{"version":3,"sources":["webpack:///./app/components/modals/integrationDetailsModal.jsx","webpack:///./app/views/organizationIntegrations/addIntegration.jsx","webpack:///./app/views/organizationIntegrations/addIntegrationButton.jsx"],"names":["EARLY_ADOPTER_INTEGRATIONS","defaultFeatureGateComponents","IntegrationFeatures","p","children","disabled","disabledReason","ungatedFeatures","features","gatedFeatureGroups","FeatureList","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","map","f","i","key","description","IntegrationDetailsModal","onAddIntegration","integration","_this","props","closeModal","analytics","org_id","parseInt","this","organization","id","provider","feature","StyledTag","replace","includes","priority","_this2","_this$props","metadata","marked","alerts","aspects","canAdd","externalInstall","push","type","icon","text","noticeText","buttonProps","style","marginLeft","space","size","AddButton","app_views_organizationIntegrations_addIntegrationButton__WEBPACK_IMPORTED_MODULE_14__","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default","app_components_button__WEBPACK_IMPORTED_MODULE_16__","href","url","onClick","external","buttonText","featureGate","dangerouslySetInnerHTML","__html","singleLineRenderer","featureListHooks","HookStore","get","_featureListHooks$","featureProps","Fragment","grid_emotion__WEBPACK_IMPORTED_MODULE_7__","align","mb","app_plugins_components_pluginIcon__WEBPACK_IMPORTED_MODULE_20__","pluginId","pl","direction","justify","ProviderName","t","name","earlyAdopterLabel","length","featureTags","Description","Metadata","AuthorName","flex","author","app_components_externalLink__WEBPACK_IMPORTED_MODULE_17__","source_url","issue_url","alert","app_components_alert__WEBPACK_IMPORTED_MODULE_15__","_ref","className","DisabledNotice","reason","app_components_acl_access__WEBPACK_IMPORTED_MODULE_13__","access","_ref2","hasAccess","app_components_tooltip__WEBPACK_IMPORTED_MODULE_23__","title","React","Component","propTypes","PropTypes","func","isRequired","object","SentryTypes","Organization","styled","_ref3","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default","app_components_inlineSvg__WEBPACK_IMPORTED_MODULE_19__","src","ml","target","theme","red","Flex","Box","gray2","Tag","AddIntegration","openDialog","urlParams","_this$props$provider$","setupDialog","width","height","_this$computeCentered","computeCenteredWindow","left","top","query","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default","reinstallId","reinstall_id","installUrl","concat","queryString","stringify","opts","dialog","window","open","focus","didReceiveMessage","message","origin","document","location","source","_message$data","data","success","onInstall","IndicatorStore","addSuccess","addError","error","addEventListener","removeEventListener","close","screenLeft","undefined","screen","screenTop","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","string","AddIntegrationButton","reinstall","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default","label","noun","react__WEBPACK_IMPORTED_MODULE_8___default","app_components_tooltip__WEBPACK_IMPORTED_MODULE_12__","app_views_organizationIntegrations_addIntegration__WEBPACK_IMPORTED_MODULE_10__","app_components_button__WEBPACK_IMPORTED_MODULE_11__","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","bool"],"mappings":"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","file":"IntegrationDetailsModal.js","sourcesContent":["import {Box, Flex} from 'grid-emotion';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'react-emotion';\n\nimport {analytics} from 'app/utils/analytics';\nimport {t} from 'app/locale';\nimport Access from 'app/components/acl/access';\nimport AddIntegrationButton from 'app/views/organizationIntegrations/addIntegrationButton';\nimport Alert from 'app/components/alert';\nimport Button from 'app/components/button';\nimport ExternalLink from 'app/components/externalLink';\nimport HookStore from 'app/stores/hookStore';\nimport InlineSvg from 'app/components/inlineSvg';\nimport PluginIcon from 'app/plugins/components/pluginIcon';\nimport SentryTypes from 'app/sentryTypes';\nimport Tag from 'app/views/settings/components/tag';\nimport Tooltip from 'app/components/tooltip';\nimport marked, {singleLineRenderer} from 'app/utils/marked';\nimport space from 'app/styles/space';\n\nconst EARLY_ADOPTER_INTEGRATIONS = [];\n\n/**\n * In sentry.io the features list supports rendering plan details. If the hook\n * is not registered for rendering the features list like this simply show the\n * features as a normal list.\n */\nconst defaultFeatureGateComponents = {\n  IntegrationFeatures: p =>\n    p.children({\n      disabled: false,\n      disabledReason: null,\n      ungatedFeatures: p.features,\n      gatedFeatureGroups: [],\n    }),\n  FeatureList: p => <ul>{p.features.map((f, i) => <li key={i}>{f.description}</li>)}</ul>,\n};\n\nclass IntegrationDetailsModal extends React.Component {\n  static propTypes = {\n    closeModal: PropTypes.func.isRequired,\n    onAddIntegration: PropTypes.func.isRequired,\n    provider: PropTypes.object.isRequired,\n    organization: SentryTypes.Organization.isRequired,\n  };\n\n  componentDidMount() {\n    analytics('integrations.install_modal_opened', {\n      org_id: parseInt(this.props.organization.id, 10),\n      integration: this.props.provider.key,\n    });\n  }\n\n  onAddIntegration = integration => {\n    this.props.closeModal();\n    this.props.onAddIntegration(integration);\n  };\n\n  featureTags(features) {\n    return features.map(feature => (\n      <StyledTag key={feature}>{feature.replace(/-/g, ' ')}</StyledTag>\n    ));\n  }\n\n  earlyAdopterLabel(provider) {\n    return EARLY_ADOPTER_INTEGRATIONS.includes(provider.key) ? (\n      <StyledTag priority=\"warning\">Early Adopter</StyledTag>\n    ) : null;\n  }\n\n  render() {\n    const {provider, organization, closeModal} = this.props;\n    const {metadata} = provider;\n    const description = marked(metadata.description);\n\n    const alerts = metadata.aspects.alerts || [];\n\n    if (!provider.canAdd && metadata.aspects.externalInstall) {\n      alerts.push({\n        type: 'warning',\n        icon: 'icon-exit',\n        text: metadata.aspects.externalInstall.noticeText,\n      });\n    }\n\n    const buttonProps = {\n      style: {marginLeft: space(1)},\n      size: 'small',\n      priority: 'primary',\n    };\n\n    const AddButton = p =>\n      (provider.canAdd && (\n        <AddIntegrationButton\n          provider={provider}\n          onAddIntegration={this.onAddIntegration}\n          {...buttonProps}\n          {...p}\n        />\n      )) ||\n      (!provider.canAdd &&\n        metadata.aspects.externalInstall && (\n          <Button\n            icon=\"icon-exit\"\n            href={metadata.aspects.externalInstall.url}\n            onClick={closeModal}\n            external\n            {...buttonProps}\n            {...p}\n          >\n            {metadata.aspects.externalInstall.buttonText}\n          </Button>\n        ));\n\n    // Prepare the features list\n    const features = metadata.features.map(f => ({\n      featureGate: f.featureGate,\n      description: (\n        <span dangerouslySetInnerHTML={{__html: singleLineRenderer(f.description)}} />\n      ),\n    }));\n\n    const featureListHooks = HookStore.get('integrations:feature-gates');\n    featureListHooks.push(() => defaultFeatureGateComponents);\n\n    const {FeatureList, IntegrationFeatures} = featureListHooks[0]();\n    const featureProps = {organization, features};\n\n    return (\n      <React.Fragment>\n        <Flex align=\"center\" mb={2}>\n          <PluginIcon pluginId={provider.key} size={50} />\n          <Flex pl={1} align=\"flex-start\" direction=\"column\" justify=\"center\">\n            <ProviderName>{t('%s Integration', provider.name)}</ProviderName>\n            <Flex>\n              {this.earlyAdopterLabel(provider)}\n              {provider.features.length && this.featureTags(provider.features)}\n            </Flex>\n          </Flex>\n        </Flex>\n        <Description dangerouslySetInnerHTML={{__html: description}} />\n        <FeatureList {...featureProps} provider={provider} />\n\n        <Metadata>\n          <AuthorName flex={1}>{t('By %s', provider.metadata.author)}</AuthorName>\n          <Box>\n            <ExternalLink href={metadata.source_url}>{t('View Source')}</ExternalLink>\n            <ExternalLink href={metadata.issue_url}>{t('Report Issue')}</ExternalLink>\n          </Box>\n        </Metadata>\n\n        {alerts.map((alert, i) => (\n          <Alert key={i} type={alert.type} icon={alert.icon}>\n            <span dangerouslySetInnerHTML={{__html: singleLineRenderer(alert.text)}} />\n          </Alert>\n        ))}\n\n        <IntegrationFeatures {...featureProps}>\n          {({disabled, disabledReason}) => (\n            <div className=\"modal-footer\">\n              {disabled && <DisabledNotice reason={disabledReason} />}\n              <Button size=\"small\" onClick={closeModal}>\n                {t('Cancel')}\n              </Button>\n              <Access organization={organization} access={['org:integrations']}>\n                {({hasAccess}) => (\n                  <Tooltip\n                    title={t('You must be an Owner, Manager or Admin to install this.')}\n                    disabled={hasAccess}\n                  >\n                    <AddButton disabled={disabled || !hasAccess} />\n                  </Tooltip>\n                )}\n              </Access>\n            </div>\n          )}\n        </IntegrationFeatures>\n      </React.Fragment>\n    );\n  }\n}\n\nconst DisabledNotice = styled(({reason, ...p}) => (\n  <Flex align=\"center\" flex={1} {...p}>\n    <InlineSvg src=\"icon-circle-exclamation\" size=\"1.5em\" />\n    <Box ml={1}>{reason}</Box>\n  </Flex>\n))`\n  color: ${p => p.theme.red};\n  font-size: 0.9em;\n`;\n\nconst ProviderName = styled(p => <Box {...p} />)`\n  font-weight: bold;\n  font-size: 1.4em;\n  margin-bottom: ${space(1)};\n`;\n\nconst Description = styled.div`\n  font-size: 1.5rem;\n  line-height: 2.1rem;\n  margin-bottom: ${space(2)};\n\n  li {\n    margin-bottom: 6px;\n  }\n`;\n\nconst Metadata = styled(Flex)`\n  font-size: 0.9em;\n  margin-bottom: ${space(2)};\n\n  a {\n    margin-left: ${space(1)};\n  }\n`;\n\nconst AuthorName = styled(Box)`\n  color: ${p => p.theme.gray2};\n`;\n\nconst StyledTag = styled(Tag)`\n  &:not(:first-child) {\n    margin-left: ${space(0.5)};\n  }\n`;\n\nexport default IntegrationDetailsModal;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport queryString from 'query-string';\n\nimport {t} from 'app/locale';\nimport IndicatorStore from 'app/stores/indicatorStore';\n\nexport default class AddIntegration extends React.Component {\n  static propTypes = {\n    children: PropTypes.func.isRequired,\n    provider: PropTypes.object.isRequired,\n    onInstall: PropTypes.func.isRequired,\n    reinstallId: PropTypes.string,\n  };\n\n  componentDidMount() {\n    this.dialog = null;\n    window.addEventListener('message', this.didReceiveMessage);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('message', this.didReceiveMessage);\n    this.dialog && this.dialog.close();\n  }\n\n  computeCenteredWindow(width, height) {\n    const screenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n\n    const screenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\n    const innerWidth = window.innerWidth\n      ? window.innerWidth\n      : document.documentElement.clientWidth\n        ? document.documentElement.clientWidth\n        : screen.width;\n\n    const innerHeight = window.innerHeight\n      ? window.innerHeight\n      : document.documentElement.clientHeight\n        ? document.documentElement.clientHeight\n        : screen.height;\n\n    const left = innerWidth / 2 - width / 2 + screenLeft;\n    const top = innerHeight / 2 - height / 2 + screenTop;\n\n    return {left, top};\n  }\n\n  openDialog = urlParams => {\n    const name = 'sentryAddIntegration';\n    const {url, width, height} = this.props.provider.setupDialog;\n    const {left, top} = this.computeCenteredWindow(width, height);\n\n    const query = {...urlParams};\n\n    if (this.props.reinstallId) {\n      query.reinstall_id = this.props.reinstallId;\n    }\n\n    const installUrl = `${url}?${queryString.stringify(query)}`;\n    const opts = `scrollbars=yes,width=${width},height=${height},top=${top},left=${left}`;\n\n    this.dialog = window.open(installUrl, name, opts);\n    this.dialog.focus();\n  };\n\n  didReceiveMessage = message => {\n    if (message.origin !== document.location.origin) {\n      return;\n    }\n\n    if (message.source !== this.dialog) {\n      return;\n    }\n\n    const {success, data} = message.data;\n    this.dialog = null;\n\n    if (!success) {\n      IndicatorStore.addError(data.error);\n      return;\n    }\n\n    if (!data) {\n      return;\n    }\n\n    this.props.onInstall(data);\n    IndicatorStore.addSuccess(t(`${this.props.provider.name} added`));\n  };\n\n  render() {\n    return this.props.children(this.openDialog);\n  }\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {t} from 'app/locale';\nimport AddIntegration from 'app/views/organizationIntegrations/addIntegration';\nimport Button from 'app/components/button';\nimport Tooltip from 'app/components/tooltip';\n\nexport default class AddIntegrationButton extends React.Component {\n  static propTypes = {\n    provider: PropTypes.object.isRequired,\n    onAddIntegration: PropTypes.func.isRequired,\n    buttonText: PropTypes.string,\n    reinstall: PropTypes.bool,\n  };\n\n  render() {\n    const {\n      provider,\n      buttonText,\n      onAddIntegration,\n      reinstall,\n      ...buttonProps\n    } = this.props;\n\n    const label =\n      buttonText || t(reinstall ? 'Enable' : 'Add %s', provider.metadata.noun);\n\n    return (\n      <Tooltip\n        disabled={provider.canAdd}\n        title={`Integration cannot be added on Sentry. Enable this integration via the ${provider.name} instance.`}\n      >\n        <AddIntegration provider={provider} onInstall={onAddIntegration}>\n          {onClick => (\n            <Button\n              disabled={!provider.canAdd}\n              {...buttonProps}\n              onClick={() => onClick()}\n            >\n              {label}\n            </Button>\n          )}\n        </AddIntegration>\n      </Tooltip>\n    );\n  }\n}\n"],"sourceRoot":""}