{"version":3,"sources":["webpack:///./app/views/settings/account/accountSecurity/accountSecuritySessionHistory.jsx"],"names":["SessionRow","_this$props","this","props","ipAddress","countryCode","regionCode","lastSeen","firstSeen","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","app_components_panels__WEBPACK_IMPORTED_MODULE_16__","justify","grid_emotion__WEBPACK_IMPORTED_MODULE_7__","align","flex","style","marginBottom","w","mx","app_components_timeSince__WEBPACK_IMPORTED_MODULE_17__","date","React","Component","propTypes","PropTypes","string","isRequired","AccountSecuritySessionHistory","t","ipList","state","Fragment","app_views_settings_components_settingsPageHeader__WEBPACK_IMPORTED_MODULE_15__","title","tabs","app_components_navTabs__WEBPACK_IMPORTED_MODULE_14__","underlined","app_components_listLink__WEBPACK_IMPORTED_MODULE_13__","to","recreateRoute","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default","stepBack","index","map","ipObj","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","key","id","AsyncView","withRouter"],"mappings":"2UAcMA,2IASK,IAAAC,EAC2DC,KAAKC,MAAhEC,EADAH,EACAG,UAAWC,EADXJ,EACWI,YAAaC,EADxBL,EACwBK,WAAYC,EADpCN,EACoCM,SAAUC,EAD9CP,EAC8CO,UAErD,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAWC,QAAQ,iBACjBJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,MAAM,SAASC,KAAM,GACzBP,EAAAC,EAAAC,cAACG,EAAA,IAAD,CAAKE,KAAK,KACRP,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAACC,aAAc,IACzBT,EAAAC,EAAAC,cAAA,cAASP,IAEVC,GACCC,GACEG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,aACGN,EADH,KACkBC,EADlB,QAOVG,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,MAAM,SAASI,EAAG,IAAKC,GAAI,GAC/BX,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAACU,EAAA,QAAD,CAAWC,KAAMd,MAGrBC,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,MAAM,SAASI,EAAG,IAAKC,GAAI,GAC/BX,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAACU,EAAA,QAAD,CAAWC,KAAMf,cApCJgB,IAAMC,WAAzBxB,EACGyB,UAAY,CACjBrB,UAAWsB,IAAUC,OAAOC,WAC5BvB,YAAaqB,IAAUC,OACvBrB,WAAYoB,IAAUC,OACtBpB,SAAUmB,IAAUC,OAAOC,WAC3BpB,UAAWkB,IAAUC,OAAOC,gBAsC1BC,6IAEF,OAAOC,YAAE,0DAIT,MAAO,CAAC,CAAC,SAAU,wDAGR,IACJC,EAAU7B,KAAK8B,MAAfD,OAEP,OACEtB,EAAAC,EAAAC,cAACF,EAAAC,EAAMuB,SAAP,KACExB,EAAAC,EAAAC,cAACuB,EAAA,QAAD,CACEC,MAAM,WACNC,KACE3B,EAAAC,EAAAC,cAAC0B,EAAA,QAAD,CAASC,YAAY,GACnB7B,EAAAC,EAAAC,cAAC4B,EAAA,QAAD,CACEC,GAAIC,YAAc,GAADC,IAAA,GAASxC,KAAKC,MAAd,CAAqBwC,UAAW,KACjDC,OAAO,GAENd,YAAE,aAELrB,EAAAC,EAAAC,cAAC4B,EAAA,QAAD,CAAUC,GAAIC,YAAc,GAAIvC,KAAKC,QAClC2B,YAAE,uBAMXrB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,MAAM,SAASC,KAAM,GACxBc,YAAE,aAELrB,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMK,EAAG,IAAKC,GAAI,GACfU,YAAE,eAELrB,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMK,EAAG,IAAKC,GAAI,GACfU,YAAE,eAGPrB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACGmB,EAAOc,IAAI,SAAAC,GACV,OAAOrC,EAAAC,EAAAC,cAACX,EAAD+C,IAAA,CAAYC,IAAKF,EAAMG,IAAQH,gBA7CRI,WAsD7BC,+BAAWtB","file":"AccountSecuritySessionHistory.js","sourcesContent":["import {Flex, Box} from 'grid-emotion';\nimport {withRouter} from 'react-router';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {t} from 'app/locale';\nimport AsyncView from 'app/views/asyncView';\nimport ListLink from 'app/components/listLink';\nimport NavTabs from 'app/components/navTabs';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';\nimport TimeSince from 'app/components/timeSince';\nimport recreateRoute from 'app/utils/recreateRoute';\n\nclass SessionRow extends React.Component {\n  static propTypes = {\n    ipAddress: PropTypes.string.isRequired,\n    countryCode: PropTypes.string,\n    regionCode: PropTypes.string,\n    lastSeen: PropTypes.string.isRequired,\n    firstSeen: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const {ipAddress, countryCode, regionCode, lastSeen, firstSeen} = this.props;\n\n    return (\n      <PanelItem justify=\"space-between\">\n        <Flex align=\"center\" flex={1}>\n          <Box flex=\"1\">\n            <div style={{marginBottom: 5}}>\n              <strong>{ipAddress}</strong>\n            </div>\n            {countryCode &&\n              regionCode && (\n                <div>\n                  <small>\n                    {countryCode} ({regionCode})\n                  </small>\n                </div>\n              )}\n          </Box>\n        </Flex>\n        <Flex align=\"center\" w={140} mx={2}>\n          <small>\n            <TimeSince date={firstSeen} />\n          </small>\n        </Flex>\n        <Flex align=\"center\" w={140} mx={2}>\n          <small>\n            <TimeSince date={lastSeen} />\n          </small>\n        </Flex>\n      </PanelItem>\n    );\n  }\n}\n\nclass AccountSecuritySessionHistory extends AsyncView {\n  getTitle() {\n    return t('Session History');\n  }\n\n  getEndpoints() {\n    return [['ipList', '/users/me/ips/']];\n  }\n\n  renderBody() {\n    const {ipList} = this.state;\n\n    return (\n      <React.Fragment>\n        <SettingsPageHeader\n          title=\"Security\"\n          tabs={\n            <NavTabs underlined={true}>\n              <ListLink\n                to={recreateRoute('', {...this.props, stepBack: -1})}\n                index={true}\n              >\n                {t('Settings')}\n              </ListLink>\n              <ListLink to={recreateRoute('', this.props)}>\n                {t('Session History')}\n              </ListLink>\n            </NavTabs>\n          }\n        />\n\n        <Panel>\n          <PanelHeader>\n            <Flex align=\"center\" flex={1}>\n              {t('Sessions')}\n            </Flex>\n            <Flex w={140} mx={2}>\n              {t('First Seen')}\n            </Flex>\n            <Flex w={140} mx={2}>\n              {t('Last Seen')}\n            </Flex>\n          </PanelHeader>\n          <PanelBody>\n            {ipList.map(ipObj => {\n              return <SessionRow key={ipObj.id} {...ipObj} />;\n            })}\n          </PanelBody>\n        </Panel>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(AccountSecuritySessionHistory);\n"],"sourceRoot":""}