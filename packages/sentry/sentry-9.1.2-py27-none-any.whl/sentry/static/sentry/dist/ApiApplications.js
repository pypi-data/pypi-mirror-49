(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{2284:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a.n(n),c=a(6),o=a.n(c),l=a(7),r=a.n(l),p=a(5),s=a.n(p),d=a(8),u=a.n(d),m=a(16),f=a(10),h=a(1),v=a.n(h),E=a(0),b=a.n(E),g=a(17),y=a.n(g),A=a(25),j=a(39),O=a(2),x=a(37),R=a(153),w=a(24),I=a(106),P=a(30),C=a(99),L=a(165),k="/settings/account/api/",N=y()({displayName:"ApiApplicationRow",propTypes:{app:v.a.object.isRequired,onRemove:v.a.func.isRequired},mixins:[x.default],getInitialState:function(){return{loading:!1}},handleRemove:function(){var e=this;if(!this.state.loading){var t=this.props.app;this.setState({loading:!0},function(){var a=P.default.add(Object(O.t)("Saving changes.."));e.api.request("/api-applications/".concat(t.id,"/"),{method:"DELETE",success:function(n){P.default.remove(a),e.props.onRemove(t)},error:function(){P.default.remove(a),P.default.add(Object(O.t)("Unable to remove application. Please try again."),"error",{duration:3e3})}})})}},render:function(){var e=this.props.app,t="btn btn-default";return this.state.loading&&(t+=" disabled"),b.a.createElement(A.f,{justify:"space-between",px:2,py:2},b.a.createElement(m.Box,{flex:"1"},b.a.createElement("h4",{style:{marginBottom:5}},b.a.createElement(f.Link,{to:"".concat(k,"applications/").concat(e.id,"/")},Object(L.a)({value:e.name,fixed:"PERCY_APPLICATION_NAME"}))),b.a.createElement("small",{style:{color:"#999"}},Object(L.a)({value:e.clientID,fixed:"PERCY_CLIENT_ID"}))),b.a.createElement(m.Flex,{align:"center"},b.a.createElement(m.Box,{pl:2},b.a.createElement("a",{onClick:this.handleRemove,className:t,disabled:this.state.loading},b.a.createElement("span",{className:"icon icon-trash"})))))}}),T=function(e){function t(){var e,a;i()(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=r()(this,(e=s()(t)).call.apply(e,[this].concat(c)))).handleCreateApplication=function(){var e=Object(j.addLoadingMessage)();a.api.request("/api-applications/",{method:"POST",success:function(t){Object(j.addSuccessMessage)(Object(O.t)("Created a new API Application")),Object(j.removeIndicator)(e),a.context.router.push("".concat(k,"applications/").concat(t.id,"/"))},error:function(t){Object(j.removeIndicator)(e),Object(j.addErrorMessage)(Object(O.t)("Unable to remove application. Please try again."))}})},a.handleRemoveApplication=function(e){a.setState({appList:a.state.appList.filter(function(t){return t.id!==e.id})})},a}return u()(t,e),o()(t,[{key:"getEndpoints",value:function(){return[["appList","/api-applications/"]]}},{key:"getTitle",value:function(){return"API Applications"}},{key:"renderBody",value:function(){var e=this,t=b.a.createElement(w.default,{priority:"primary",size:"small",className:"ref-create-application",onClick:this.handleCreateApplication,icon:"icon-circle-add"},Object(O.t)("Create New Application")),a=0===this.state.appList.length;return b.a.createElement("div",null,b.a.createElement(C.default,{title:"API Applications",action:t}),b.a.createElement(A.a,null,b.a.createElement(A.e,{disablePadding:!0},b.a.createElement(m.Flex,{align:"center"},b.a.createElement(m.Box,{px:2,flex:"1"},Object(O.t)("Application Name")))),b.a.createElement(A.c,null,a?b.a.createElement(I.default,null,Object(O.t)("You haven't created any applications yet.")):this.state.appList.map(function(t){return b.a.createElement(N,{key:t.id,app:t,onRemove:e.handleRemoveApplication})}))))}}]),t}(R.default);T.contextTypes={router:v.a.object.isRequired},t.default=T}}]);
//# sourceMappingURL=ApiApplications.js.map