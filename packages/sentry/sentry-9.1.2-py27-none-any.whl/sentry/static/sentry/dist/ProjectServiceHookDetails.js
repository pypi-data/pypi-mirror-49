(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{1559:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(6),c=n.n(o),i=n(7),l=n.n(i),s=n(5),u=n.n(s),d=n(8),h=n.n(d),p=n(16),f=n(1),m=n.n(f),b=n(0),v=n.n(b),g=n(51),y=n.n(g),E=n(3),k=n(223),j=n(258),w=n(24),O=n(587),C=n(23),x=Object(E.default)(function(e){return v.a.createElement("input",e)},{target:"e1usehz70"})(k.a,";background-color:",function(e){return e.theme.offWhite},";border-right-width:0;border-top-right-radius:0;border-bottom-right-radius:0;&:hover,&:focus{background-color:",function(e){return e.theme.offWhite},";border-right-width:0;}"),S=Object(E.default)("div",{target:"e1usehz71"})("flex-grow:1;border:none;"),I=Object(E.default)(w.default,{target:"e1usehz72"})("flex-shrink:1;border-radius:0 0.25em 0.25em 0;box-shadow:none;"),T=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).handleCopyClick=function(e){if(n.textRef.current){var t=n.props.onCopy;n.handleSelectText(),t(n.props.children,e),e.stopPropagation()}},n.handleSelectText=function(){n.textRef.current&&Object(j.a)(y.a.findDOMNode(n.textRef.current))},n.textRef=v.a.createRef(),n}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.children;return v.a.createElement(p.Flex,null,v.a.createElement(S,null,v.a.createElement(x,{readOnly:!0,ref:this.textRef,style:t,value:n,onClick:this.handleSelectText})),v.a.createElement(O.a,{hideUnsupported:!0,onClick:this.handleCopyClick,value:n},v.a.createElement(I,{type:"button",size:"xsmall",onClick:this.handleCopyClick},v.a.createElement(C.default,{src:"icon-clipboard",size:"1.25em"}))))}}]),t}(v.a.Component);T.propTypes={children:m.a.string.isRequired,style:m.a.object,onCopy:m.a.func},T.defaultProps={onCopy:function(){}},t.a=T},1619:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var a=n(26),r=n.n(a),o=n(50),c=n.n(o),i=n(4),l=n.n(i),s=n(6),u=n.n(s),d=n(7),h=n.n(d),p=n(5),f=n.n(p),m=n(8),b=n.n(m),v=n(16),g=n(1),y=n.n(g),E=n(0),k=n.n(E),j=n(3),w=n(14),O=Object(j.default)("div",{target:"e18jwynw0"})("display:flex;flex-wrap:wrap;"),C=Object(j.default)("label",{target:"e18jwynw1"})("font-weight:normal;white-space:nowrap;margin-right:10px;margin-bottom:10px;width:20%;"),x=Object(j.default)("span",{target:"e18jwynw2"})("margin-left:3px;"),S=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=h()(this,(e=f()(t)).call.apply(e,[this].concat(r)))).onChange=function(e,t){var a=n.props,r=a.value,o=a.onChange;"function"==typeof o&&o(t.target.checked?r?[].concat(c()(r),[e]):[r]:r.filter(function(t){return t!==e}),t)},n}return b()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.choices,o=t.value;return k.a.createElement(O,null,a.map(function(t){var a=r()(t,2),c=a[0],i=a[1];return k.a.createElement(v.Box,{key:c,w:[1,.5,1/3,.25]},k.a.createElement(C,null,k.a.createElement("input",{type:"checkbox",value:c,onChange:e.onChange.bind(e,c),disabled:n,checked:Object(w.defined)(o)&&-1!==o.indexOf(c)}),k.a.createElement(x,null,i)))}))}}]),t}(k.a.Component);S.propTypes={value:y.a.arrayOf(y.a.oneOfType([y.a.string,y.a.number])),onChange:y.a.func,disabled:y.a.bool,choices:y.a.array.isRequired}},1669:function(e,t,n){"use strict";var a=n(10),r=n(0),o=n.n(r),c=n(1),i=n.n(c),l=n(17),s=n.n(l),u=n(2),d=n(815),h=n(486),p=n(482),f=n(480),m=n(1619),b=n(25),v=["event.alert","event.created"].map(function(e){return[e,e]});t.a=s()({displayName:"ServiceHookSettingsForm",propTypes:{orgId:i.a.string.isRequired,projectId:i.a.string.isRequired,hookId:i.a.string,initialData:i.a.object.isRequired},onSubmitSuccess:function(){var e=this.props,t=e.orgId,n=e.projectId;a.browserHistory.push("/settings/".concat(t,"/projects/").concat(n,"/hooks/"))},render:function(){var e=this.props,t=e.initialData,n=e.orgId,a=e.projectId,r=e.hookId,c=r?"/projects/".concat(n,"/").concat(a,"/hooks/").concat(r,"/"):"/projects/".concat(n,"/").concat(a,"/hooks/");return o.a.createElement(b.a,null,o.a.createElement(d.default,{apiMethod:r?"PUT":"POST",apiEndpoint:c,initialData:t,onSubmitSuccess:this.onSubmitSuccess,onCancel:this.onCancel,footerStyle:{marginTop:0,paddingRight:20},submitLabel:r?Object(u.t)("Save Changes"):Object(u.t)("Create Hook")},o.a.createElement(b.e,null,Object(u.t)("Hook Configuration")),o.a.createElement(b.c,null,o.a.createElement(h.default,{name:"isActive",label:Object(u.t)("Active")}),o.a.createElement(f.default,{name:"url",label:Object(u.t)("URL"),required:!0,help:Object(u.t)("The URL which will receive events.")}),o.a.createElement(p.a,{name:"events",choices:v,label:Object(u.t)("Events"),inline:!1,help:Object(u.t)("The event types you wish to subscribe to.")},function(e){var t=e.value,n=e.onChange;return o.a.createElement(m.a,{onChange:n,value:t.peek(),choices:v})}))))}})},2297:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return M});var a=n(11),r=n.n(a),o=n(12),c=n.n(o),i=n(26),l=n.n(i),s=n(4),u=n.n(s),d=n(6),h=n.n(d),p=n(7),f=n.n(p),m=n(5),b=n.n(m),v=n(8),g=n.n(v),y=n(10),E=n(0),k=n.n(E),j=n(2),w=n(114),O=n(153),C=n(25),x=n(24),S=n(106),I=n(72),T=n(479),R=n(165),D=n(30),H=n(99),q=n(259),A=n(1559),z=n(1669),L=function(e){function t(){return u()(this,t),f()(this,b()(t).apply(this,arguments))}return g()(t,e),h()(t,[{key:"getEndpoints",value:function(){var e=Math.floor((new Date).getTime()/1e3),t=e-2592e3,n=this.props.params,a=n.hookId,r=n.orgId,o=n.projectId;return[["stats","/projects/".concat(r,"/").concat(o,"/hooks/").concat(a,"/stats/"),{query:{since:t,until:e,resolution:"1d"}}]]}},{key:"renderTooltip",value:function(e,t,n){var a=n.getTimeLabel(e),r=l()(e.y,1)[0],o="".concat(r.toLocaleString()," events");return'<div style="width:150px">'+'<div class="time-label">'.concat(a,"</div>")+'<div class="value-label">'.concat(o,"</div>")+"</div>"}},{key:"renderBody",value:function(){var e=!0,t=this.state.stats.map(function(t){return t.total&&(e=!1),{x:t.ts,y:[t.total]}});return k.a.createElement(C.a,null,k.a.createElement(C.e,null,Object(j.t)("Events in the last 30 days (by day)")),k.a.createElement(C.c,null,e?k.a.createElement(S.default,{title:Object(j.t)("Nothing recorded in the last 30 days."),description:Object(j.t)("Total webhooks fired for this configuration.")}):k.a.createElement(q.default,{points:t,height:150,label:"events",barClasses:["total"],className:"standard-barchart",style:{border:"none"},tooltip:this.renderTooltip})))}}]),t}(w.default),M=function(e){function t(){var e,n;u()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=f()(this,(e=b()(t)).call.apply(e,[this].concat(r)))).onDelete=function(){var e=n.props.params,t=e.orgId,a=e.projectId,r=e.hookId,o=D.default.add(Object(j.t)("Saving changes.."));n.api.request("/projects/".concat(t,"/").concat(a,"/hooks/").concat(r,"/"),{method:"DELETE",success:function(){D.default.remove(o),y.browserHistory.push("/settings/".concat(t,"/projects/").concat(a,"/hooks/"))},error:function(){D.default.remove(o),D.default.add(Object(j.t)("Unable to remove application. Please try again."),"error",{duration:3e3})}})},n}return g()(t,e),h()(t,[{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId,a=e.hookId;return[["hook","/projects/".concat(t,"/").concat(n,"/hooks/").concat(a,"/")]]}},{key:"renderBody",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId,a=e.hookId,o=this.state.hook;return k.a.createElement("div",null,k.a.createElement(H.default,{title:Object(j.t)("Service Hook Details")}),k.a.createElement(I.default,null,k.a.createElement(L,{params:this.props.params})),k.a.createElement(z.a,r()({},this.props,{orgId:t,projectId:n,hookId:a,initialData:c()({},o,{isActive:"disabled"!=o.status})})),k.a.createElement(C.a,null,k.a.createElement(C.e,null,Object(j.t)("Event Validation")),k.a.createElement(C.c,null,k.a.createElement(C.b,{type:"info",icon:"icon-circle-exclamation"},"Sentry will send the ",k.a.createElement("code",null,"X-ServiceHook-Signature")," header built using"," ",k.a.createElement("code",null,"HMAC(SHA256, [secret], [payload])"),". You should always verify this signature before trusting the information provided in the webhook."),k.a.createElement(T.default,{label:Object(j.t)("Secret"),flexibleControlStateSize:!0,inline:!1,help:Object(j.t)("The shared secret used for generating event HMAC signatures.")},k.a.createElement(A.a,null,Object(R.a)({value:o.secret,fixed:"a dynamic secret value"}))))),k.a.createElement(C.a,null,k.a.createElement(C.e,null,Object(j.t)("Delete Hook")),k.a.createElement(C.c,null,k.a.createElement(T.default,{label:Object(j.t)("Delete Hook"),help:Object(j.t)("Removing this hook is immediate and permanent.")},k.a.createElement("div",null,k.a.createElement(x.default,{priority:"danger",onClick:this.onDelete},"Delete Hook"))))))}}]),t}(O.default)}}]);
//# sourceMappingURL=ProjectServiceHookDetails.js.map