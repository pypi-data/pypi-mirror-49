{"version":3,"sources":["webpack:///./app/views/settings/components/settingsNavItem.jsx","webpack:///./app/views/settings/components/settingsNavigationGroup.jsx","webpack:///./app/views/settings/components/settingsNavigation.jsx","webpack:///./app/views/settings/organization/organizationSettingsNavigation.jsx","webpack:///./app/views/settings/organization/organizationSettingsLayout.jsx"],"names":["SettingsNavItem","_this$props","this","props","badge","label","index","id","objectWithoutProperties_default","LabelHook","HookOrDefault","hookName","defaultComponent","_ref","children","react_default","a","createElement","Fragment","renderedBadge","StyledTag","priority","size","border","components_badge","text","StyledNavItem","extends_default","onlyActiveOnIndex","activeClassName","React","Component","propTypes","PropTypes","node","isRequired","bool","string","styled","Tag","target","Link","p","theme","gray2","gray5","purple","NavSection","SettingsHeading","gray3","NavigationGroup","_this","organization","project","name","items","data-test-id","map","path","title","show","badgeResult","to","replaceRouterParams","orgId","slug","projectId","settingsNavItem","key","SentryTypes","Organization","Project","access","object","features","contextTypes","router","location","SettingsNavigation","navigationObjects","hooks","hookConfigs","otherProps","navWithHooks","concat","index_es","config","settingsNavigationGroup_NavigationGroup","Hook","i","cloneElement","array","arrayOf","NavigationObject","defaultProps","OrganizationSettingsNavigation","createReactClass","displayName","mixins","OrganizationState","Reflux","listenTo","HookStore","getInitialState","getHooks","componentDidMount","setState","org","getOrganization","get","cb","handleHooks","state","render","getAccess","getFeatures","_this$state","settingsNavigation","navigationConfiguration","OrganizationSettingsLayout","settingsLayout","renderNavigation","organizationSettingsNavigation"],"mappings":"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","file":"OrganizationSettingsLayout.js","sourcesContent":["import {Link} from 'react-router';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'react-emotion';\n\nimport Badge from 'app/components/badge';\nimport HookOrDefault from 'app/components/hookOrDefault';\nimport Tag from 'app/views/settings/components/tag';\n\nclass SettingsNavItem extends React.Component {\n  static propTypes = {\n    label: PropTypes.node.isRequired,\n    badge: PropTypes.node,\n    index: PropTypes.bool,\n    id: PropTypes.string,\n  };\n\n  render() {\n    const {badge, label, index, id, ...props} = this.props;\n\n    const LabelHook = HookOrDefault({\n      hookName: 'sidebar:item-label',\n      defaultComponent: ({children}) => {\n        return <React.Fragment>{children}</React.Fragment>;\n      },\n    });\n\n    let renderedBadge = '';\n\n    if (badge === 'new') {\n      renderedBadge = (\n        <StyledTag priority=\"warning\" size=\"small\" border={true}>\n          {badge}\n        </StyledTag>\n      );\n    } else {\n      renderedBadge = <Badge text={badge} />;\n    }\n\n    return (\n      <StyledNavItem onlyActiveOnIndex={index} activeClassName=\"active\" {...props}>\n        <LabelHook id={id}>{label}</LabelHook>\n\n        {badge ? renderedBadge : null}\n      </StyledNavItem>\n    );\n  }\n}\n\nconst StyledTag = styled(Tag)`\n  margin-left: 0.25em;\n`;\n\nconst StyledNavItem = styled(Link)`\n  display: block;\n  color: ${p => p.theme.gray2};\n  font-size: 14px;\n  line-height: 30px;\n  position: relative;\n\n  &.active {\n    color: ${p => p.theme.gray5};\n\n    &:before {\n      background: ${p => p.theme.purple};\n    }\n  }\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: ${p => p.theme.gray5};\n  }\n\n  &:before {\n    position: absolute;\n    content: '';\n    display: block;\n    top: 4px;\n    left: -30px;\n    height: 20px;\n    width: 4px;\n    background: transparent;\n    border-radius: 0 2px 2px 0;\n  }\n`;\n\nexport default SettingsNavItem;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'react-emotion';\n\nimport SentryTypes from 'app/sentryTypes';\nimport SettingsNavItem from 'app/views/settings/components/settingsNavItem';\nimport replaceRouterParams from 'app/utils/replaceRouterParams';\n\nconst NavSection = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst SettingsHeading = styled.div`\n  color: ${p => p.theme.gray3};\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  margin-bottom: 20px;\n`;\n\nexport default class NavigationGroup extends React.Component {\n  static propTypes = {\n    ...SentryTypes.NavigationGroup,\n    organization: SentryTypes.Organization,\n    project: SentryTypes.Project,\n\n    // Used in the `show` and `badge` function\n    access: PropTypes.object, // eslint-disable-line react/no-unused-prop-types\n    features: PropTypes.object, // eslint-disable-line react/no-unused-prop-types\n    id: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n  };\n\n  static contextTypes = {\n    router: PropTypes.object,\n    location: PropTypes.object,\n  };\n\n  render() {\n    const {organization, project, name, items} = this.props;\n\n    return (\n      <NavSection data-test-id={name}>\n        <SettingsHeading>{name}</SettingsHeading>\n        {items.map(({path, title, index, show, badge, id}) => {\n          if (typeof show === 'function' && !show(this.props)) {\n            return null;\n          }\n          if (typeof show !== 'undefined' && !show) {\n            return null;\n          }\n          const badgeResult = typeof badge === 'function' ? badge(this.props) : null;\n          const to = replaceRouterParams(path, {\n            orgId: organization && organization.slug,\n            projectId: project && project.slug,\n          });\n\n          return (\n            <SettingsNavItem\n              key={title}\n              to={to}\n              label={title}\n              index={index}\n              badge={badgeResult}\n              id={id}\n            />\n          );\n        })}\n      </NavSection>\n    );\n  }\n}\n","import {Box} from 'grid-emotion';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport SettingsNavigationGroup from 'app/views/settings/components/settingsNavigationGroup';\nimport SentryTypes from 'app/sentryTypes';\n\nclass SettingsNavigation extends React.Component {\n  static propTypes = {\n    hooks: PropTypes.array,\n    hookConfigs: PropTypes.array,\n    navigationObjects: PropTypes.arrayOf(SentryTypes.NavigationObject).isRequired,\n  };\n\n  static defaultProps = {\n    hooks: [],\n    hookConfigs: [],\n  };\n\n  render() {\n    const {navigationObjects, hooks, hookConfigs, ...otherProps} = this.props;\n    const navWithHooks = navigationObjects.concat(hookConfigs);\n\n    return (\n      <Box>\n        {navWithHooks.map(config => (\n          <SettingsNavigationGroup key={config.name} {...otherProps} {...config} />\n        ))}\n        {hooks.map((Hook, i) =>\n          React.cloneElement(Hook, {\n            key: `hook-${i}`,\n          })\n        )}\n      </Box>\n    );\n  }\n}\n\nexport default SettingsNavigation;\n","import Reflux from 'reflux';\nimport React from 'react';\n\nimport createReactClass from 'create-react-class';\n\nimport HookStore from 'app/stores/hookStore';\nimport OrganizationState from 'app/mixins/organizationState';\nimport SettingsNavigation from 'app/views/settings/components/settingsNavigation';\nimport navigationConfiguration from 'app/views/settings/organization/navigationConfiguration';\n\nconst OrganizationSettingsNavigation = createReactClass({\n  displayName: 'OrganizationSettingsNavigation',\n  mixins: [OrganizationState, Reflux.listenTo(HookStore, 'handleHooks')],\n\n  getInitialState() {\n    return this.getHooks();\n  },\n\n  componentDidMount() {\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState(this.getHooks());\n  },\n\n  getHooks() {\n    // Allow injection via getsentry et all\n    const org = this.getOrganization();\n\n    return {\n      hookConfigs: HookStore.get('settings:organization-navigation-config').map(cb =>\n        cb(org)\n      ),\n      hooks: HookStore.get('settings:organization-navigation').map(cb => cb(org)),\n    };\n  },\n\n  handleHooks(name, hooks) {\n    const org = this.getOrganization();\n    if (name !== 'settings:organization-navigation-config') {\n      return;\n    }\n    this.setState(state => ({\n      hookConfigs: hooks.map(cb => cb(org)),\n    }));\n  },\n\n  render() {\n    const access = this.getAccess();\n    const features = this.getFeatures();\n    const org = this.getOrganization();\n    const {hooks, hookConfigs} = this.state;\n\n    return (\n      <SettingsNavigation\n        navigationObjects={navigationConfiguration}\n        access={access}\n        features={features}\n        organization={org}\n        hooks={hooks}\n        hookConfigs={hookConfigs}\n      />\n    );\n  },\n});\n\nexport default OrganizationSettingsNavigation;\n","import React from 'react';\n\nimport OrganizationSettingsNavigation from 'app/views/settings/organization/organizationSettingsNavigation';\nimport SettingsLayout from 'app/views/settings/components/settingsLayout';\n\nexport default class OrganizationSettingsLayout extends React.Component {\n  render() {\n    return (\n      <SettingsLayout\n        {...this.props}\n        renderNavigation={() => <OrganizationSettingsNavigation {...this.props} />}\n      >\n        {this.props.children}\n      </SettingsLayout>\n    );\n  }\n}\n"],"sourceRoot":""}