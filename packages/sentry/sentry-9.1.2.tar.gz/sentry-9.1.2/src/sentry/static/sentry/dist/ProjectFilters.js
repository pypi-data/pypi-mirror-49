(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1546:function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},1549:function(e,t,n){"use strict";var a=n(11),r=n.n(a),i=n(13),o=n.n(i),s=n(4),c=n.n(s),l=n(6),u=n.n(l),d=n(7),f=n.n(d),p=n(5),h=n.n(p),m=n(8),b=n.n(m),g=n(16),y=n(1),v=n.n(y),j=n(0),E=n.n(j),w=n(28),O=n(1550),x=n.n(O),k=n(25),T=n(14),_=n(380),S=n(586),D=function(e){function t(e){var n,a;c()(this,t);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(a=f()(this,(n=h()(t)).call.apply(n,[this,e].concat(i)))).getLocation=function(e){return e.location||a.context.location||{}},a.state={highlighted:a.getLocation(e).hash},a}return b()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.getLocation(this.props).hash!==this.getLocation(e).hash){var n=this.getLocation(e).hash;this.scrollToHash(n),this.setState({highlighted:n})}}},{key:"scrollToHash",value:function(e){var t=e||this.getLocation(this.props).hash;if(t)try{x()(Object(S.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){w.captureException(e)}}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.title,a=e.fields,i=e.access,s=e.disabled,c=e.features,l=e.additionalFieldProps,u=e.renderFooter,d=e.renderHeader,f=(e.location,o()(e,["forms","title","fields","access","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),p=Object(T.defined)(t),h={access:i,disabled:s,features:c,additionalFieldProps:l,renderFooter:u,renderHeader:d,highlighted:this.state.highlighted};return E.a.createElement(g.Box,f,p?t.map(function(e){return E.a.createElement(F,r()({key:e.title,title:e.title,fields:e.fields},h))}):E.a.createElement(F,r()({title:n,fields:a},h)))}}]),t}(E.a.Component);D.propTypes={forms:v.a.arrayOf(v.a.shape({title:v.a.string,fields:v.a.arrayOf(v.a.oneOfType([v.a.func,_.a.propTypes.field]))})),fields:v.a.arrayOf(v.a.oneOfType([v.a.func,_.a.propTypes.field])),title:v.a.string,access:v.a.object,features:v.a.object,additionalFieldProps:v.a.object,renderFooter:v.a.func,renderHeader:v.a.func,disabled:v.a.oneOfType([v.a.func,v.a.bool])},D.defaultProps={additionalFieldProps:{}},D.contextTypes={location:v.a.object},t.a=D;var F=function(e){function t(){return c()(this,t),f()(this,h()(t).apply(this,arguments))}return b()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.fields,i=t.access,s=t.disabled,c=t.additionalFieldProps,l=t.renderFooter,u=t.renderHeader,d=(t.location,o()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader","location"])),f="function"==typeof l,p="function"==typeof u;return E.a.createElement(k.a,{key:n,id:Object(S.a)(n)},E.a.createElement(k.e,null,n),E.a.createElement(k.c,null,p&&u({title:n,fields:a}),a.map(function(t){if("function"==typeof t)return t();t.defaultValue;var n=o()(t,["defaultValue"]);return!0===s&&(n.disabled=!0,n.disabledReason=void 0),E.a.createElement(_.a,r()({access:i,disabled:s,key:t.name},d,c,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))}),f&&l({title:n,fields:a})))}}]),t}(E.a.Component);F.propTypes={title:v.a.string,fields:v.a.arrayOf(v.a.oneOfType([v.a.func,_.a.propTypes.field])),access:v.a.object,additionalFieldProps:v.a.object,highlighted:v.a.string,renderHeader:v.a.func,renderFooter:v.a.func,disabled:v.a.oneOfType([v.a.func,v.a.bool])}},1550:function(e,t,n){var a=n(1551);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return a(0,function(e,t,n){var a,r=document.body,i=document.documentElement,o=e.getBoundingClientRect(),s=i.clientHeight,c=Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);t=t||0,a="bottom"===n?o.bottom-s:"middle"===n?o.bottom-s/2-o.height/2:o.top;var l=c-s;return Math.min(a+t+window.pageYOffset,l)}(e,t.offset,t.align),t)}},1551:function(e,t,n){var a=n(1552),r=n(1556);e.exports=function(e,t,n){n=n||{};var i=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;return{top:e,left:t}}(),o=a(i).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);function s(){r(s),o.update()}return o.update(function(e){window.scrollTo(0|e.left,0|e.top)}),o.on("end",function(){s=function(){}}),s(),o}},1552:function(e,t,n){var a=n(1553),r=n(1554),i=n(1546),o=n(1555);function s(e){if(!(this instanceof s))return new s(e);this._from=e,this.ease("linear"),this.duration(500)}e.exports=s,a(s.prototype),s.prototype.reset=function(){return this.isArray="array"===i(this._from),this._curr=r(this._from),this._done=!1,this._start=Date.now(),this},s.prototype.to=function(e){return this.reset(),this._to=e,this},s.prototype.duration=function(e){return this._duration=e,this},s.prototype.ease=function(e){if(!(e="function"==typeof e?e:o[e]))throw new TypeError("invalid easing function");return this._ease=e,this},s.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},s.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,a=this._to,r=this._curr,i=(0,this._ease)((t-this._start)/e);if(this.isArray){for(var o=0;o<n.length;++o)r[o]=n[o]+(a[o]-n[o])*i;return this._update(r),this}for(var s in n)r[s]=n[s]+(a[s]-n[s])*i;return this._update(r),this}},s.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},1553:function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<a.length;r++)if((n=a[r])===t||n.fn===t){a.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var a=0,r=(n=n.slice(0)).length;a<r;++a)n[a].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1554:function(e,t,n){var a;try{a=n(1546)}catch(e){a=n(1546)}e.exports=function e(t){switch(a(t)){case"object":var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n;case"array":for(var n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i]);return n;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},1555:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},1556:function(e,t){t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){var t=(new Date).getTime(),a=Math.max(0,16-(t-n)),r=setTimeout(e,a);return n=t,r};var n=(new Date).getTime();var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){a.call(window,e)}},2357:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n.n(a),i=n(4),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(5),f=n.n(d),p=n(8),h=n.n(p),m=n(10),b=n(0),g=n.n(b),y=n(2),v=n(1),j=n.n(v),E=n(3),w=n(16),O=n(39),x=n(114),k=n(62),T=n(317),_=n(227),S=n(29),D=n(25),F=n(106),C=function(e){function t(){return o()(this,t),u()(this,f()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.onUndiscard,a=t.actor;return g.a.createElement(D.f,{align:"center"},g.a.createElement(I,null,g.a.createElement(T.a,{includeLink:!1,hideIcons:!0,className:"truncate",data:t})),g.a.createElement(w.Box,{w:20,mx:30},a&&g.a.createElement(S.default,{title:Object(y.t)("Discarded by %s",a.name||a.email)},g.a.createElement(k.default,{user:t.actor}))),g.a.createElement(w.Box,{w:30},g.a.createElement(S.default,{title:Object(y.t)("Undiscard")},g.a.createElement(_.a,{className:"group-remove btn btn-default btn-sm",message:Object(y.t)("Undiscarding this issue means that incoming events that match this will no longer be discarded. New incoming events will count toward your event quota and will display on your issues dashboard. Are you sure you wish to continue?"),onConfirm:function(){n(t.id)}},g.a.createElement("span",{className:"icon-trash undiscard"})))))}}]),t}(g.a.Component);C.propTypes={data:j.a.object.isRequired,onUndiscard:j.a.func.isRequired};var q=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=u()(this,(e=f()(t)).call.apply(e,[this].concat(r)))).handleUndiscard=function(e){var t=n.props,a=t.orgId,r=t.projectId,i="/projects/".concat(a,"/").concat(r,"/tombstones/").concat(e,"/");n.api.request(i,{method:"DELETE",success:function(e){Object(O.addSuccessMessage)(Object(y.t)("Events similar to these will no longer be filtered"))},error:function(){Object(O.addErrorMessage)(Object(y.t)("We were unable to undiscard this issue"))}}),n.fetchData()},n}return h()(t,e),c()(t,[{key:"getEndpoints",value:function(){var e=this.props,t=e.orgId,n=e.projectId;return[["tombstones","/projects/".concat(t,"/").concat(n,"/tombstones/")]]}},{key:"renderEmpty",value:function(){return g.a.createElement(D.a,null,g.a.createElement(F.default,null,Object(y.t)("You have no discarded issues")))}},{key:"renderBody",value:function(){var e=this,t=this.state.tombstones;return t.length?g.a.createElement(D.a,null,t.map(function(t){return g.a.createElement(C,{key:t.id,data:t,onUndiscard:e.handleUndiscard})})):this.renderEmpty()}}]),t}(x.default);q.propTypes={orgId:j.a.string.isRequired,projectId:j.a.string.isRequired};var I=Object(E.default)(w.Box,{target:"etne7sd0"})("flex:1;min-width:0;/* keep child content from stretching flex item */"),B=q,M=n(146),L=n(226),A=n(26),P=n.n(A),N=n(48),Q=n.n(N),R=n(439),H=n.n(R),U=n(17),z=n.n(U),V=n(46),$=n.n(V),W=n(14),Y=n(37),J=n(53),X=n(33),G=n(259),K=z()({displayName:"ProjectFiltersChart",contextTypes:{project:j.a.object},mixins:[Y.default],getInitialState:function(){var e=Math.floor((new Date).getTime()/1e3);return{loading:!0,error:!1,statsError:!1,querySince:e-2592e3,queryUntil:e,rawStatsData:null,formattedData:[],blankStats:!0}},componentDidMount:function(){this.fetchData()},getStatOpts:function(){return{"ip-address":"IP Address","release-version":"Release","error-message":"Error Message","browser-extensions":"Browser Extension","legacy-browsers":"Legacy Browser",localhost:"Localhost","web-crawlers":"Web Crawler","invalid-csp":"Invalid CSP",cors:"CORS","discarded-hash":"Discarded Issue"}},formatData:function(e){var t=this;return Object.keys(this.getStatOpts()).map(function(n){return{data:e[n].map(function(e){var n=P()(e,2),a=n[0],r=n[1];return r>0&&t.setState({blankStats:!1}),{x:a,y:r}}),label:t.getStatOpts()[n],statName:n}})},getFilterStats:function(){var e=this,t=Object.keys(this.getStatOpts()),n=this.props.params,a=n.orgId,r=n.projectId,i="/projects/".concat(a,"/").concat(r,"/stats/"),o={since:this.state.querySince,until:this.state.queryUntil,resolution:"1d"};Q.a.when.apply(Q.a,t.map(function(t){var n=Q.a.Deferred();return e.api.request(i,{query:Object.assign({stat:t},o),success:n.resolve.bind(n),error:n.reject.bind(n)}),n})).done(function(){var e={};if(1===t.length)e[t[0]]=arguments[0];else for(var n=0;n<t.length;n++)e[t[n]]=arguments[n][0];this.setState({rawStatsData:e,formattedData:this.formatData(e),error:!1,loading:!1})}.bind(this)).fail(function(){this.setState({error:!0})}.bind(this))},fetchData:function(){this.getFilterStats()},timeLabelAsDay:function(e){return $()(1e3*e.x).format("LL")},renderTooltip:function(e,t,n){for(var a=this.timeLabelAsDay(e),r=0,i=0;i<e.y.length;i++)r+=e.y[i];var o=this.state.formattedData;return H.a.renderToStaticMarkup(g.a.createElement("div",{style:{width:"175px"}},g.a.createElement("div",{className:"time-label"},g.a.createElement("span",null,a)),g.a.createElement("div",null,Object(W.intcomma)(r)," ",Object(y.tn)("total event","total events",r)),o.map(function(t,n){return e.y[n]>0&&g.a.createElement("dl",{className:"legend",key:t.statName},g.a.createElement("dt",null,g.a.createElement("span",{className:"".concat(t.statName," 'filter-color'")})),g.a.createElement("dd",{style:{textAlign:"left",position:"absolute"}},t.label," "),g.a.createElement("dd",{style:{textAlign:"right",position:"relative"}},e.y[n]," ",Object(y.tn)("event","events",e.y[n])))})))},render:function(){var e=this.state,t=e.loading,n=e.error,a=t||!this.state.formattedData,r=!a&&n,i=!a&&!n,o=Object.keys(this.getStatOpts());return g.a.createElement(D.a,null,g.a.createElement(D.e,null,Object(y.t)("Errors filtered in the last 30 days (by day)")),g.a.createElement(D.c,null,a&&g.a.createElement(X.default,null),r&&g.a.createElement(J.default,{onRetry:this.fetchData}),i&&!this.state.blankStats&&g.a.createElement(G.default,{series:this.state.formattedData,label:"events",barClasses:o,className:"standard-barchart filtered-stats-barchart",tooltip:this.renderTooltip,minHeights:o.map(function(e){return"legacy-browsers"==e?1:0})}),i&&this.state.blankStats&&g.a.createElement(F.default,{title:Object(y.t)("Nothing filtered in the last 30 days."),description:Object(y.t)("Issues filtered as a result of your settings below will be shown here.")})))}}),Z=n(11),ee=n.n(Z),te=n(50),ne=n.n(te),ae=n(38),re=n.n(ae),ie=n(13),oe=n.n(ie),se=n(42),ce=n(95),le=n(117),ue=n(318),de=n(380),fe=n(257),pe=n(482),he=n(78),me=n(1549),be=n(9),ge=n(241),ye=n(845),ve={ie_pre_9:{icon:"internet-explorer",helpText:"Version 8 and lower",title:"Internet Explorer"},ie9:{icon:"internet-explorer",helpText:"Version 9",title:"Internet Explorer"},ie10:{icon:"internet-explorer",helpText:"Version 10",title:"Internet Explorer"},safari_pre_6:{icon:"safari",helpText:"Version 5 and lower",title:"Safari"},opera_pre_15:{icon:"opera",helpText:"Version 14 and lower",title:"Opera"},opera_mini_pre_8:{icon:"opera",helpText:"Version 8 and lower",title:"Opera Mini"},android_pre_4:{icon:"android",helpText:"Version 3 and lower",title:"Android"}},je=Object.keys(ve),Ee=function(e){function t(e){var n,a;return o()(this,t),(n=u()(this,f()(t).call(this,e))).handleToggleSubfilters=function(e,t){var a=n.state.subfilters;!0===e?a=new Set(je):!1===e?a=new Set:a.has(e)?a.delete(e):a.add(e),n.setState({subfilters:new Set(a)},function(){n.props.onToggle(n.props.data,a,t)})},a=!0===e.data.active?new Set(je):!1===e.data.active?new Set:new Set(e.data.active),n.state={loading:!1,error:!1,subfilters:a},n}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props.disabled;return g.a.createElement("div",null,!t&&g.a.createElement(Ce,null,g.a.createElement(qe,null,Object(y.t)("Filter"),":"),g.a.createElement(Ie,{onClick:this.handleToggleSubfilters.bind(this,!0)},Object(y.t)("All")),g.a.createElement(Ie,{onClick:this.handleToggleSubfilters.bind(this,!1)},Object(y.t)("None"))),g.a.createElement(ke,null,je.map(function(n){var a=ve[n];return g.a.createElement(_e,{key:n},g.a.createElement(Te,null,g.a.createElement(w.Flex,{align:"center",flex:"1"},g.a.createElement(Se,{className:"icon-".concat(a.icon)}),g.a.createElement("div",null,g.a.createElement(De,null,a.title),g.a.createElement(Fe,null,a.helpText))),g.a.createElement(ge.default,{isActive:e.state.subfilters.has(n),isDisabled:t,className:Object(se.css)({flexShrink:0,marginLeft:6}),toggle:e.handleToggleSubfilters.bind(e,n),size:"lg"})))})))}}]),t}(g.a.Component);Ee.propTypes={data:j.a.object.isRequired,onToggle:j.a.func.isRequired,disabled:j.a.bool};var we=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=u()(this,(e=f()(t)).call.apply(e,[this].concat(i)))).handleLegacyChange=function(e,t,n,a,r){e(a,r),t(a,r)},n.renderDisabledCustomFilters=function(e){return g.a.createElement(ue.a,{featureName:Object(y.t)("Custom Inbound Filters"),features:e.features,alert:D.b,message:Object(y.t)("Release and Error Message filtering are not enabled on your Sentry installation")})},n.renderCustomFilters=function(e){return function(){return g.a.createElement(le.a,{features:["projects:custom-inbound-filters"],renderDisabled:function(e){var t=e.children,a=oe()(e,["children"]);return t(r()({},a,{renderDisabled:n.renderDisabledCustomFilters}))}},function(t){var n=t.hasFeature,a=t.organization,i=t.renderDisabled,o=oe()(t,["hasFeature","organization","renderDisabled"]);return g.a.createElement(g.a.Fragment,null,!n&&i(r()({organization:a},o)),ye.customFilterFields.map(function(t){return g.a.createElement(de.a,{key:t.name,field:t,disabled:e||!n})}))})}},n}return h()(t,e),c()(t,[{key:"getDefaultState",value:function(){return{hooksDisabled:he.default.get("project:custom-inbound-filters:disabled")}}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return[["filterList","/projects/".concat(t,"/").concat(n,"/filters/")],["project","/projects/".concat(t,"/").concat(n,"/")]]}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.features,a=t.params,i=a.orgId,o=a.projectId;if(!this.state.project)return null;var s="/projects/".concat(i,"/").concat(o,"/"),c="".concat(s,"filters/");return g.a.createElement(ce.a,{access:["project:write"]},function(t){var a=t.hasAccess;return g.a.createElement(g.a.Fragment,null,g.a.createElement(D.a,null,g.a.createElement(D.e,null,Object(y.t)("Filters")),g.a.createElement(D.c,null,e.state.filterList.map(function(t,n){var i={name:t.id,label:t.name,help:t.description,disabled:!a};return g.a.createElement(D.f,{key:t.id,p:0},g.a.createElement(xe,{apiMethod:"PUT",apiEndpoint:"".concat(c).concat(t.id,"/"),initialData:re()({},t.id,t.active),saveOnBlur:!0},"legacy-browsers"!==t.id?g.a.createElement(de.a,{key:t.id,getData:function(e){return{active:e[t.id]}},field:r()({type:"boolean"},i)}):g.a.createElement(pe.a,ee()({inline:!1},i,{getData:function(e){return{subfilters:ne()(e[t.id])}}}),function(n){var r=n.onChange,i=n.onBlur;return g.a.createElement(Ee,{key:t.id,data:t,disabled:!a,onToggle:e.handleLegacyChange.bind(e,r,i)})})))}))),g.a.createElement(fe.default,{apiMethod:"PUT",apiEndpoint:s,initialData:e.state.project.options,saveOnBlur:!0},g.a.createElement(me.a,{features:n,forms:ye.default,disabled:!a,renderFooter:e.renderCustomFilters(!a)})))})}}]),t}(x.default);we.propTypes={project:be.default.Project,params:j.a.object,features:j.a.object};var Oe=we,xe=Object(E.default)(fe.default,{target:"e67jji50"})("flex:1;"),ke=Object(E.default)("div",{target:"e67jji51"})("display:flex;flex-wrap:wrap;"),Te=Object(E.default)("div",{target:"e67jji52"})("display:flex;align-items:center;background:",function(e){return e.theme.whiteDark},";border-radius:3px;flex:1;padding:12px;height:100%;"),_e=Object(E.default)("div",{target:"e67jji53"})("padding:12px;width:50%;"),Se=Object(E.default)("div",{target:"e67jji54"})("width:38px;height:38px;background-repeat:no-repeat;background-position:center;background-size:38px 38px;margin-right:6px;flex-shrink:0;"),De=Object(E.default)("div",{target:"e67jji55"})("font-size:14px;font-weight:bold;line-height:1;white-space:nowrap;"),Fe=Object(E.default)("div",{target:"e67jji56"})("color:",function(e){return e.theme.gray3},";font-size:12px;line-height:1;white-space:nowrap;"),Ce=Object(E.default)("div",{target:"e67jji57"})("text-align:right;padding:0 12px;"),qe=Object(E.default)("span",{target:"e67jji58"})("font-weight:bold;margin-right:6px;"),Ie=Object(E.default)("a",{target:"e67jji59"})("border-right:1px solid #f1f2f3;margin-right:6px;padding-right:6px;&:last-child{border-right:none;margin-right:0;}"),Be=n(99),Me=n(113),Le=n(187),Ae=function(e){function t(){return o()(this,t),u()(this,f()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this.context.project,t=this.props.params,n=t.orgId,a=t.projectId,i=t.filterType;if(!e)return null;var o=new Set(e.features);return g.a.createElement("div",null,g.a.createElement(Be.default,{title:Object(y.t)("Inbound Data Filters")}),g.a.createElement(L.a,null),g.a.createElement(Me.default,null,Object(y.t)("Filters allow you to prevent Sentry from storing events in certain situations. Filtered events are tracked separately from rate limits, and do not apply to any project quotas.")),g.a.createElement("div",null,g.a.createElement(K,{params:this.props.params}),o.has("discard-groups")&&g.a.createElement(M.default,{underlined:!0,style:{paddingTop:"30px"}},g.a.createElement("li",{className:"data-filters"===i?"active":""},g.a.createElement(m.Link,{to:Object(Le.a)("data-filters/",r()({},this.props,{stepBack:-1}))},Object(y.t)("Data Filters"))),g.a.createElement("li",{className:"discarded-groups"===i?"active":""},g.a.createElement(m.Link,{to:Object(Le.a)("discarded-groups/",r()({},this.props,{stepBack:-1}))},Object(y.t)("Discarded Issues")))),"discarded-groups"==i?g.a.createElement(B,{orgId:n,projectId:a}):g.a.createElement(Oe,{project:e,params:this.props.params,features:o})))}}]),t}(g.a.Component);Ae.contextTypes={project:be.default.Project};t.default=Ae}}]);
//# sourceMappingURL=ProjectFilters.js.map