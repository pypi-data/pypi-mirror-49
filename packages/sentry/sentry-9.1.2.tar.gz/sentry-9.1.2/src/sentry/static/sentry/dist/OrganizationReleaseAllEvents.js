(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1605:function(e,t,n){"use strict";var a=n(44),r=n.n(a),s=n(1),o=n.n(s),i=n(0),l=n.n(i),c=n(17),u=n.n(c),p=n(18),d=n.n(p),m=n(84),h=n.n(m),f=n(9),g=n(261),b=n(4),y=n.n(b),v=n(6),E=n.n(v),j=n(7),x=n.n(j),I=n(5),w=n.n(I),S=n(8),q=n.n(S),L=n(16),O=n(2),G=n(25),k=function(e){function t(){return y()(this,t),x()(this,w()(t).apply(this,arguments))}return q()(t,e),E()(t,[{key:"render",value:function(){return l.a.createElement(G.e,{disablePadding:!0},l.a.createElement(L.Box,{w:[8/12,8/12,.5],mx:2,flex:"1",className:"toolbar-header"},Object(O.t)("Event")),l.a.createElement(L.Box,{w:160,mx:2,className:"toolbar-header hidden-xs hidden-sm"},Object(O.t)("Last 24 hours")),l.a.createElement(L.Flex,{w:80,mx:2,justify:"flex-end",className:"toolbar-header"},Object(O.t)("events")),l.a.createElement(L.Flex,{w:80,mx:2,justify:"flex-end",className:"toolbar-header"},Object(O.t)("users")),l.a.createElement(L.Flex,{w:80,mx:2,justify:"flex-end",className:"hidden-xs hidden-sm toolbar-header"},Object(O.t)("Assignee")))}}]),t}(l.a.Component),D=n(67),N=n(53),R=n(33),C=n(593),M=n(14),T=n(63),P=n(145),z=u()({displayName:"GroupList",propTypes:{api:o.a.object.isRequired,query:o.a.string.isRequired,canSelectGroups:o.a.bool,orgId:o.a.string.isRequired,projectId:o.a.string,environment:f.default.Environment},contextTypes:{location:o.a.object},mixins:[d.a.listenTo(D.a,"onGroupChange")],getDefaultProps:function(){return{canSelectGroups:!0}},getInitialState:function(){return{loading:!0,error:!1,groups:[]}},componentWillMount:function(){this._streamManager=new M.default.StreamManager(D.a),this.fetchData()},shouldComponentUpdate:function(e,t){return!r()(this.state,t)},componentDidUpdate:function(e){e.orgId===this.props.orgId&&e.projectId===this.props.projectId||this.fetchData()},componentWillUnmount:function(){D.a.loadInitialData([])},fetchData:function(){var e=this;D.a.loadInitialData([]);var t=this.props,n=t.api,a=t.orgId;this.setState({loading:!0,error:!1}),Object(g.a)(n,a).then(function(t){e.setState({memberList:Object(g.b)(t)})}),n.request(this.getGroupListEndpoint(),{success:function(t,n,a){e._streamManager.push(t),e.setState({error:!1,loading:!1,pageLinks:a.getResponseHeader("Link")})},error:function(){e.setState({error:!0,loading:!1})}})},getGroupListEndpoint:function(){var e=this.props,t=e.orgId,n=e.projectId,a=n?"/projects/".concat(t,"/").concat(n,"/issues/"):"/organizations/".concat(t,"/issues/");return"".concat(a,"?").concat(h.a.stringify(this.getQueryParams()))},getQueryParams:function(){var e=this.props,t=e.projectId,n=e.query,a=e.environment,r=this.context.location.query;return r.limit=50,r.sort="new",r.query=n,t&&(a?r.environment=a.name:delete r.environment),r},onGroupChange:function(){var e=this._streamManager.getAllItems();r()(e,this.state.groups)||this.setState({groups:e})},render:function(){var e=this;if(this.state.loading)return l.a.createElement(R.default,null);if(this.state.error)return l.a.createElement(N.default,{onRetry:this.fetchData});if(0===this.state.groups.length)return l.a.createElement(G.a,null,l.a.createElement(G.c,null,l.a.createElement(P.a,null,l.a.createElement("p",null,Object(O.t)("There doesn't seem to be any events fitting the query.")))));var t=this.props.orgId;return l.a.createElement(G.a,null,l.a.createElement(k,null),l.a.createElement(G.c,null,this.state.groups.map(function(n){var a=n.id,r=n.project,s=null;return e.state.memberList&&(s=e.state.memberList[r.slug]||null),l.a.createElement(C.a,{key:a,id:a,orgId:t,canSelect:e.props.canSelectGroups,memberList:s})})))}});t.a=Object(T.default)(z)},2335:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return E});var a=n(4),r=n.n(a),s=n(6),o=n.n(s),i=n(7),l=n.n(i),c=n(5),u=n.n(c),p=n(8),d=n.n(p),m=n(0),h=n.n(m),f=n(10),g=n(9),b=n(81),y=n(1605),v=n(2),E=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.params.orgId;return h.a.createElement("div",null,h.a.createElement(b.default,{icon:"icon-open",iconSize:"14px",type:"warning"},h.a.createElement(f.Link,{to:{pathname:"/organizations/".concat(e,"/issues/"),query:{query:"release:"+this.props.release.version}}},Object(v.t)("View all issues seen in this release in the stream"))),h.a.createElement(y.a,{orgId:e,query:'release:"'+this.props.release.version+'"',canSelectGroups:!1}))}}]),t}(h.a.Component);E.propTypes={release:g.default.Release}}}]);
//# sourceMappingURL=OrganizationReleaseAllEvents.js.map