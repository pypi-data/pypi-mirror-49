(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{2328:function(e,t,r){"use strict";r.r(t);var a=r(12),n=r.n(a),s=r(125),i=r.n(s),o=r(10),u=r(0),c=r.n(u),l=r(17),h=r.n(l),p=r(9),d=r(25),y=r(2),m=r(37),f=r(145),g=r(753),v=r(66),q=r(53),E=r(33),L=r(107),S=r(595),b=r(436),k=h()({displayName:"GroupEvents",propTypes:{group:p.default.Group.isRequired},mixins:[m.default,v.a],getInitialState:function(){return{eventList:[],loading:!0,error:!1,pageLinks:"",query:this.props.location.query.query||""}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(e){if(this.props.location.search!==e.location.search){var t=e.location.query;this.setState({query:t.query},this.fetchData)}},handleSearch:function(e){var t=n()({},this.props.location.query);t.query=e;var r=this.props.params,a=r.groupId,s=r.orgId;o.browserHistory.push({pathname:"/organizations/".concat(s,"/issues/").concat(a,"/events/"),query:t})},fetchData:function(){var e=this;this.setState({loading:!0,error:!1});var t=n()({},i()(this.props.location.query,["cursor","environment"]),{limit:50,query:this.state.query});this.api.request("/issues/".concat(this.props.params.groupId,"/events/"),{query:t,method:"GET",success:function(t,r,a){e.setState({eventList:t,error:!1,loading:!1,pageLinks:a.getResponseHeader("Link")})},error:function(t){e.setState({error:Object(b.a)(t),loading:!1})}})},renderNoQueryResults:function(){return c.a.createElement(f.a,null,c.a.createElement("p",null,Object(y.t)("Sorry, no events match your search query.")))},renderEmpty:function(){return c.a.createElement(f.a,null,c.a.createElement("p",null,Object(y.t)("There don't seem to be any events yet.")))},renderResults:function(){var e=this.props.group.tags.filter(function(e){return"user"!==e.key})||[];return c.a.createElement(g.a,{tagList:e,events:this.state.eventList,params:this.props.params})},renderBody:function(){return this.state.loading?c.a.createElement(E.default,null):this.state.error?c.a.createElement(q.default,{message:this.state.error,onRetry:this.fetchData}):this.state.eventList.length>0?this.renderResults():this.state.query&&""!==this.state.query?this.renderNoQueryResults():this.renderEmpty()},render:function(){return c.a.createElement("div",null,c.a.createElement("div",{style:{marginBottom:20}},c.a.createElement(S.a,{defaultQuery:"",placeholder:Object(y.t)("search event id, message, or tags"),query:this.state.query,onSearch:this.handleSearch})),c.a.createElement(d.a,{className:"event-list"},c.a.createElement(d.c,null,this.renderBody())),c.a.createElement(L.default,{pageLinks:this.state.pageLinks}))}});t.default=k}}]);
//# sourceMappingURL=OrganizationGroupEvents.js.map