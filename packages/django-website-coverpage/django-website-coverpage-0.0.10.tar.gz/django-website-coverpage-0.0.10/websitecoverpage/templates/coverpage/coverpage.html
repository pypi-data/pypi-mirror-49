<style>{{ websitecoverpage.style|safe }}</style>
<div id="websitecoverpage">{{ websitecoverpage.html|safe }}</div>
<script>
    var websiteCoverPage = {
        cache: {},

        close: function() {
            this.remove(document.querySelectorAll('#websitecoverpage')[0]);
            this.set(false);
            document.cookie = '{{ websitecoverpage.cookie_name }}=1; path=/';
        },

        remove: function(el) {
            el.parentNode.removeChild(el);
        },

        set: function(active) {
            this.setStyle('html', active);
            this.setStyle('body', active);
        },

        setStyle: function(tagName, active) {
            var s = document.querySelectorAll(tagName)[0].style;
            if (active) {
                this.cache[tagName + '_maxHeight'] = s.maxHeight;
                this.cache[tagName + '_minHeight'] = s.minHeight;
                this.cache[tagName + '_overflow'] = s.overflow;
                s.maxHeight = '100%';
                s.minHeight = '100%';
                s.overflow = 'hidden';
            } else {
                s.maxHeight = this.cache[tagName + '_maxHeight'];
                s.minHeight = this.cache[tagName + '_minHeight'];
                s.overflow = this.cache[tagName + '_overflow'];
            }
        }
    }
    websiteCoverPage.set(true);
</script>