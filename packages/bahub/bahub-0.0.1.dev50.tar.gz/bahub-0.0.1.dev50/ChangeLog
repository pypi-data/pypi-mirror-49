CHANGES
=======

* Server: Updated docs, added fixes
* Server: Added a feature to optionally allow to restrict usage of token for given User-Agent headers and/or IP addresses. This is a gateway to fully assigned tokens for anonymous users using the application
* Server: Added support for replication READ-ONLY mode, it's now an environment variable "READ\_ONLY". Accepts true/false values
* Server: Disabled Symfony deprecation helper in API tests, so they will now be green. We do not care about deprecations in Codeception API testing framework, we care about deprecations in our code only
* Server: Resolved problems with not up-to-date unit tests
* Server: Resolved problem with PhpUnit version
* Server: Upgraded dependencies to try to resolve the issue on Travis with PHP 7.3 build
* Server: Corrected tests running all together
* Bahub: Corrected logging, now the Docker container is logging to a single file and showing normally the logs
* Server: Added feature - new role "upload.only\_once\_successful" that allows to restrict token to MAXIMUM ONE SUCCESSFUL UPLOAD
* Server: Moved more variables to Dockerfile, so now also the tests on travis should start working
* Server: Covered with API tests the alerting strategy in collection upload
* Server: Resolved a typing problem in backups collection uploading, when a weird failure happens
* Server: Covered collection strategy "delete\_oldest\_when\_adding\_new"
* Server: Versioning functionality is now more generic, and should not be only considered as "backup" but generally as a versioning storage (including backup usage)
* Server: Added additional test case for collections listing test
* Server: cURL exceptions - added one more case to handle
* Server: Added API tests coverage for listing and searching collections
* Server: Added new setting "HTTP\_TIMEOUT" to set timeout on HTTP download, when uploading by URL
* Server: Handling of cURL errors when downloading a remote URL. Now the error is now shown as 500, but as a 400 with details
* Server: Attempt to connect to travis ci + increased coverage
* Server: Travis - fix to try to run codeception api tests
* Server: Clean up in tests
* Server: Covered collections adding, editing, deleting
* Server: Covered collections adding, editing, deleting
* Server: Bugfix - added missing role about editing allowed collections
* Server: Increased coverage
* Server: Added coverage for registry listing, added possibility to backup & restore the database during tests
* Server: Postman support will be completely deleted
* Server: Fixed a high-risk security issue, the local adapter was storing files inside src directory. Symfony cache was indexing this directory while bootstraping (ex. on container restart in production mode, in dev and test modes on each request)
* Server: Covered file registry upload and delete with API tests in codeception
* Server: Increased API tests coverage
* Server: Proper response instead of 500 in case, when fileUrl does not exist in upload-by-url
* Server: Covered authentication module with Codeception API tests
* Server: Fixed multiple files upload at once. All files were getting the same file name. On frontend not sending filename as query string parameter, but in multipart files. On backend added support to take the filename (if not specified in query string) from multipart - for compatibility with various uploaders
* Server: Added initial codeception setup
* Server: Now the "token" and "x-auth-token" headers are properly handled
* Server: Added proper error handling for value objects
* Server: Corrected health checks
* Server: Split filesystem adapters into READ and WRITE for better handling of clusters and performant infrastructures
* Docs: Added listing to index
* Added docs for listing
* Docs: Added info how to provision the token
* Create LICENSE
* The Bahub container now does not generate spam
* Added docker/releases/versioning section
* Added info about quay images
* Made a clean up of infrastructural files and added feature toggle to the NGINX, so new features can be toggled on/off
* AntiHotlink feature: Resolved a notice about array to string conversion ($\_SERVER['argv'] or $\_SERVER['argc'] was an array)
* AntiHotlink feature: The value is now unescaped, it makes life so much easier when a unnecessary quotes are applied (eg. in docker container configuration)
