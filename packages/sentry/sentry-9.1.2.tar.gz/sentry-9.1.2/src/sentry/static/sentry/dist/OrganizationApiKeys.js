(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{2382:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),o=a(4),s=a.n(o),c=a(6),i=a.n(c),l=a(7),u=a.n(l),p=a(5),y=a.n(p),d=a(8),m=a.n(d),f=a(10),h=a(0),b=a.n(h),g=a(45),k=a(39),E=a(2),v=a(153),A=a(9),x=a(187),w=a(16),O=a(1),j=a.n(O),I=a(24),P=a(106),z=a(54),K=a(61),S=a(227),B=a(25),N=a(99),C=a(113),R=function(e){function t(){return s()(this,t),u()(this,y()(t).apply(this,arguments))}return m()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.params,a=e.routes,n=e.keys,r=e.busy,o=e.onAddApiKey,s=e.onRemove,c=n&&n.length,i=b.a.createElement(I.default,{priority:"primary",size:"small",icon:"icon-circle-add",busy:r,disabled:r,onClick:o},Object(E.t)("New API Key"));return b.a.createElement("div",null,b.a.createElement(N.default,{title:Object(E.t)("API Keys"),action:i}),b.a.createElement(C.default,null,Object(E.tct)("API keys grant access to the [api:developer web API].\n          If you're looking to configure a Sentry client, you'll need a\n          client key which is available in your project settings.",{api:b.a.createElement(z.a,{href:"https://docs.sentry.io/hosted/api/"})})),b.a.createElement("div",{className:"alert alert-block alert-info"},Object(E.tct)("psst. Until Sentry supports OAuth, you might want to switch to using [tokens:Auth Tokens] instead.",{tokens:b.a.createElement(K.a,{to:"/settings/account/api/auth-tokens/"})})),b.a.createElement(B.a,null,b.a.createElement(B.e,{disablePadding:!0,align:"center"},b.a.createElement(w.Flex,{align:"center",flex:"1"},b.a.createElement(w.Box,{px:2,flex:"1"},Object(E.t)("Name")),b.a.createElement(w.Box,{px:2,flex:"2"},Object(E.t)("Key"))),b.a.createElement(w.Box,{px:2,w:100},Object(E.t)("Actions"))),b.a.createElement(B.c,null,!c&&b.a.createElement(P.default,null,Object(E.t)("No API keys for this organization")),n&&n.map(function(e){var n=e.id,r=e.key,o=e.label,c=Object(x.a)("".concat(n,"/"),{params:t,routes:a});return b.a.createElement(B.f,{align:"center",p:0,py:1,key:n},b.a.createElement(w.Flex,{align:"center",flex:"1"},b.a.createElement(w.Box,{px:2,flex:"1",align:"center"},b.a.createElement(K.a,{to:c},o)),b.a.createElement(w.Box,{px:2,flex:"2"},b.a.createElement("div",{className:"form-control disabled auto-select"},r))),b.a.createElement(w.Box,{px:2,w:100},b.a.createElement(S.a,{className:"btn btn-default btn-sm",onConfirm:function(e){return s(n,e)},message:Object(E.t)("Are you sure you want to remove this API key?"),title:Object(E.t)("Remove API Key?")},b.a.createElement("span",{className:"icon-trash"}))))}))))}}]),t}(b.a.Component);R.propTypes={routes:j.a.array,keys:j.a.array,busy:j.a.bool,onRemove:j.a.func,onAddApiKey:j.a.func};var T=R,q=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=u()(this,(e=y()(t)).call.apply(e,[this].concat(r)))).handleRemove=function(e,t){(new g.Client).request("/organizations/".concat(a.props.params.orgId,"/api-keys/").concat(e,"/"),{method:"DELETE",data:{},success:function(t){a.setState(function(t){return{keys:t.keys.filter(function(t){return t.id!==e})}})},error:function(){a.setState({busy:!1})}})},a.handleAddApiKey=function(){var e=new g.Client;a.setState({busy:!0}),e.request("/organizations/".concat(a.props.params.orgId,"/api-keys/"),{method:"POST",data:{},success:function(e){a.setState({busy:!1}),f.browserHistory.push(Object(x.a)("".concat(e.id,"/"),{params:a.props.params,routes:a.props.routes})),Object(k.addSuccessMessage)(Object(E.t)('Created a new API key "'.concat(e.label,'"')))},error:function(){a.setState({busy:!1})}})},a}return m()(t,e),i()(t,[{key:"getEndpoints",value:function(){return[["keys","/organizations/".concat(this.props.params.orgId,"/api-keys/")]]}},{key:"getTitle",value:function(){var e=this.context.organization;return"".concat(e.name," API Keys")}},{key:"renderBody",value:function(){return b.a.createElement(T,r()({busy:this.state.busy,keys:this.state.keys,organization:this.context.organization,onRemove:this.handleRemove,onAddApiKey:this.handleAddApiKey},this.props))}}]),t}(v.default);q.contextTypes={organization:A.default.Organization};t.default=q}}]);
//# sourceMappingURL=OrganizationApiKeys.js.map