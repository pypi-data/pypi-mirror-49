(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1546:function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},1549:function(e,t,n){"use strict";var r=n(11),a=n.n(r),i=n(13),o=n.n(i),c=n(4),s=n.n(c),u=n(6),l=n.n(u),d=n(7),f=n.n(d),p=n(5),h=n.n(p),m=n(8),g=n.n(m),b=n(16),y=n(1),j=n.n(y),v=n(0),O=n.n(v),w=n(28),E=n(1550),k=n.n(E),T=n(25),_=n(14),P=n(380),C=n(586),S=function(e){function t(e){var n,r;s()(this,t);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return(r=f()(this,(n=h()(t)).call.apply(n,[this,e].concat(i)))).getLocation=function(e){return e.location||r.context.location||{}},r.state={highlighted:r.getLocation(e).hash},r}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.getLocation(this.props).hash!==this.getLocation(e).hash){var n=this.getLocation(e).hash;this.scrollToHash(n),this.setState({highlighted:n})}}},{key:"scrollToHash",value:function(e){var t=e||this.getLocation(this.props).hash;if(t)try{k()(Object(C.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){w.captureException(e)}}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.title,r=e.fields,i=e.access,c=e.disabled,s=e.features,u=e.additionalFieldProps,l=e.renderFooter,d=e.renderHeader,f=(e.location,o()(e,["forms","title","fields","access","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),p=Object(_.defined)(t),h={access:i,disabled:c,features:s,additionalFieldProps:u,renderFooter:l,renderHeader:d,highlighted:this.state.highlighted};return O.a.createElement(b.Box,f,p?t.map(function(e){return O.a.createElement(x,a()({key:e.title,title:e.title,fields:e.fields},h))}):O.a.createElement(x,a()({title:n,fields:r},h)))}}]),t}(O.a.Component);S.propTypes={forms:j.a.arrayOf(j.a.shape({title:j.a.string,fields:j.a.arrayOf(j.a.oneOfType([j.a.func,P.a.propTypes.field]))})),fields:j.a.arrayOf(j.a.oneOfType([j.a.func,P.a.propTypes.field])),title:j.a.string,access:j.a.object,features:j.a.object,additionalFieldProps:j.a.object,renderFooter:j.a.func,renderHeader:j.a.func,disabled:j.a.oneOfType([j.a.func,j.a.bool])},S.defaultProps={additionalFieldProps:{}},S.contextTypes={location:j.a.object},t.a=S;var x=function(e){function t(){return s()(this,t),f()(this,h()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.fields,i=t.access,c=t.disabled,s=t.additionalFieldProps,u=t.renderFooter,l=t.renderHeader,d=(t.location,o()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader","location"])),f="function"==typeof u,p="function"==typeof l;return O.a.createElement(T.a,{key:n,id:Object(C.a)(n)},O.a.createElement(T.e,null,n),O.a.createElement(T.c,null,p&&l({title:n,fields:r}),r.map(function(t){if("function"==typeof t)return t();t.defaultValue;var n=o()(t,["defaultValue"]);return!0===c&&(n.disabled=!0,n.disabledReason=void 0),O.a.createElement(P.a,a()({access:i,disabled:c,key:t.name},d,s,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))}),f&&u({title:n,fields:r})))}}]),t}(O.a.Component);x.propTypes={title:j.a.string,fields:j.a.arrayOf(j.a.oneOfType([j.a.func,P.a.propTypes.field])),access:j.a.object,additionalFieldProps:j.a.object,highlighted:j.a.string,renderHeader:j.a.func,renderFooter:j.a.func,disabled:j.a.oneOfType([j.a.func,j.a.bool])}},1550:function(e,t,n){var r=n(1551);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return r(0,function(e,t,n){var r,a=document.body,i=document.documentElement,o=e.getBoundingClientRect(),c=i.clientHeight,s=Math.max(a.scrollHeight,a.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);t=t||0,r="bottom"===n?o.bottom-c:"middle"===n?o.bottom-c/2-o.height/2:o.top;var u=s-c;return Math.min(r+t+window.pageYOffset,u)}(e,t.offset,t.align),t)}},1551:function(e,t,n){var r=n(1552),a=n(1556);e.exports=function(e,t,n){n=n||{};var i=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;return{top:e,left:t}}(),o=r(i).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);function c(){a(c),o.update()}return o.update(function(e){window.scrollTo(0|e.left,0|e.top)}),o.on("end",function(){c=function(){}}),c(),o}},1552:function(e,t,n){var r=n(1553),a=n(1554),i=n(1546),o=n(1555);function c(e){if(!(this instanceof c))return new c(e);this._from=e,this.ease("linear"),this.duration(500)}e.exports=c,r(c.prototype),c.prototype.reset=function(){return this.isArray="array"===i(this._from),this._curr=a(this._from),this._done=!1,this._start=Date.now(),this},c.prototype.to=function(e){return this.reset(),this._to=e,this},c.prototype.duration=function(e){return this._duration=e,this},c.prototype.ease=function(e){if(!(e="function"==typeof e?e:o[e]))throw new TypeError("invalid easing function");return this._ease=e,this},c.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},c.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,a=this._curr,i=(0,this._ease)((t-this._start)/e);if(this.isArray){for(var o=0;o<n.length;++o)a[o]=n[o]+(r[o]-n[o])*i;return this._update(a),this}for(var c in n)a[c]=n[c]+(r[c]-n[c])*i;return this._update(a),this}},c.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},1553:function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1554:function(e,t,n){var r;try{r=n(1546)}catch(e){r=n(1546)}e.exports=function e(t){switch(r(t)){case"object":var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n;case"array":for(var n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i]);return n;case"regexp":var c="";return c+=t.multiline?"m":"",c+=t.global?"g":"",c+=t.ignoreCase?"i":"",new RegExp(t.source,c);case"date":return new Date(t.getTime());default:return t}}},1555:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},1556:function(e,t){t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-n)),a=setTimeout(e,r);return n=t,a};var n=(new Date).getTime();var r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){r.call(window,e)}},2287:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n.n(r),i=n(12),o=n.n(i),c=n(4),s=n.n(c),u=n(6),l=n.n(u),d=n(7),f=n.n(d),p=n(5),h=n.n(p),m=n(8),g=n.n(m),b=n(10),y=n(1),j=n.n(y),v=n(0),O=n.n(v),w=n(18),E=n.n(w),k=n(17),T=n.n(k),_=n(25),P=n(134),C=n(849),S=n(66),x=n(2),F=n(153),R=n(24),q=n(110),M=n(479),A=n(257),B=n(1549),H=n(226),Q=n(55),I=n(135),L=n(99),D=n(113),z=n(480),U=n(329),$=n(187),Y=function(e){function t(){var e,n;s()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=f()(this,(e=h()(t)).call.apply(e,[this].concat(a)))).handleTransferFieldChange=function(e,t){n._form[e]=t},n.handleRemoveProject=function(){var e=n.props.params.orgId,t=n.state.data;t&&Object(P.e)(n.api,e,t).then(function(){window.location.assign("/")},Object(U.a)("Unable to remove project"))},n.handleTransferProject=function(){var e=n.props.params.orgId,t=n.state.data;t&&n._form.email&&Object(P.i)(n.api,e,t,n._form.email).then(function(){window.location.assign("/")},Object(U.a)("Unable to transfer project"))},n._form={},n}return g()(t,e),l()(t,[{key:"getTitle",value:function(){var e=this.props.params.projectId;return Object(x.t)("%s Settings",e)}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return[["data","/projects/".concat(t,"/").concat(n,"/")],["groupingConfigs","/grouping-configs/"]]}},{key:"renderRemoveProject",value:function(){var e=this.state.data,t=Object(S.b)(this.context.organization).getAccess().has("project:admin"),n=e.isInternal;return O.a.createElement(M.default,{label:Object(x.t)("Remove Project"),help:Object(x.tct)("Remove the [project] project and all related data. [linebreak] Careful, this action cannot be undone.",{project:O.a.createElement("strong",null,e.slug),linebreak:O.a.createElement("br",null)})},!t&&Object(x.t)("You do not have the required permission to remove this project."),n&&Object(x.t)("This project cannot be removed. It is used internally by the Sentry server."),t&&!n&&O.a.createElement(q.default,{onConfirm:this.handleRemoveProject,priority:"danger",title:Object(x.t)("Remove project?"),confirmText:Object(x.t)("Remove project"),message:O.a.createElement("div",null,O.a.createElement(D.default,null,O.a.createElement("strong",null,Object(x.t)("Removing this project is permanent and cannot be undone!"))),O.a.createElement(D.default,null,Object(x.t)("This will also remove all associated event data.")))},O.a.createElement("div",null,O.a.createElement(R.default,{className:"ref-remove-project",type:"button",priority:"danger"},Object(x.t)("Remove Project")))))}},{key:"renderTransferProject",value:function(){var e=this,t=this.state.data,n=Object(S.b)(this.context.organization).getAccess().has("project:admin"),r=t.isInternal;return O.a.createElement(M.default,{label:Object(x.t)("Transfer Project"),help:Object(x.tct)("Transfer the [project] project and all related data. [linebreak] Careful, this action cannot be undone.",{project:O.a.createElement("strong",null,t.slug),linebreak:O.a.createElement("br",null)})},!n&&Object(x.t)("You do not have the required permission to transfer this project."),r&&Object(x.t)("This project cannot be transferred. It is used internally by the Sentry server."),n&&!r&&O.a.createElement(q.default,{onConfirm:this.handleTransferProject,priority:"danger",title:"".concat(Object(x.t)("Transfer project"),"?"),confirmText:Object(x.t)("Transfer project"),renderMessage:function(n){var r=n.confirm;return O.a.createElement("div",null,O.a.createElement(D.default,null,O.a.createElement("strong",null,Object(x.t)("Transferring this project is permanent and cannot be undone!"))),O.a.createElement(D.default,null,Object(x.t)("Please enter the organization owner you would like to transfer this project to.")),O.a.createElement(_.a,null,O.a.createElement(A.default,{hideFooter:!0,onFieldChange:e.handleTransferFieldChange,onSubmit:function(e,t,n,a){a.stopPropagation(),r()}},O.a.createElement(z.default,{name:"email",label:Object(x.t)("Organization Owner"),placeholder:"admin@example.com",required:!0,help:Object(x.tct)("A request will be emailed to the new owner in order to transfer [project] to a new organization.",{project:O.a.createElement("strong",null," ",t.slug," ")})}))))}},O.a.createElement("div",null,O.a.createElement(R.default,{className:"ref-transfer-project",type:"button",priority:"danger"},Object(x.t)("Transfer Project")))))}},{key:"renderBody",value:function(){var e=this,t=this.context.organization,n=this.state.data,r=this.props.params,i=r.orgId,c=r.projectId,s="/projects/".concat(i,"/").concat(c,"/"),u=new Set(t.access),l={additionalFieldProps:{organization:t,groupingConfigs:this.state.groupingConfigs},features:new Set(t.features),access:u,disabled:!u.has("project:write")};return O.a.createElement("div",null,O.a.createElement(L.default,{title:Object(x.t)("Project Settings")}),O.a.createElement(H.a,null),O.a.createElement(A.default,{saveOnBlur:!0,allowUndo:!0,initialData:o()({},n,{team:n.team&&n.team.slug}),apiMethod:"PUT",apiEndpoint:s,onSubmitSuccess:function(t){c!==t.slug&&(Object(P.b)(c,t.slug),e.props.onChangeSlug(t.slug)),Q.a.updateSuccess(t)}},O.a.createElement(B.a,a()({},l,{title:Object(x.t)("Project Details"),fields:[C.fields.slug,C.fields.platform]})),O.a.createElement(B.a,a()({},l,{title:Object(x.t)("Email"),fields:[C.fields.subjectPrefix]})),O.a.createElement(B.a,a()({},l,{title:Object(x.t)("Event Settings"),fields:[C.fields.resolveAge]})),l.features.has("set-grouping-config")&&O.a.createElement(B.a,a()({},l,{title:Object(x.t)("Grouping Settings"),fields:[C.fields.groupingConfig],renderHeader:function(){return O.a.createElement(_.b,{type:"warning"},O.a.createElement(D.default,{noMargin:!0},Object(x.t)("This is an experimental feature. Changing the value here will only apply to future events and is likely to cause events to create different groups than before.")))}})),O.a.createElement(B.a,a()({},l,{title:Object(x.t)("Data Privacy"),fields:[C.fields.dataScrubber,C.fields.dataScrubberDefaults,C.fields.scrubIPAddresses,C.fields.sensitiveFields,C.fields.safeFields,C.fields.storeCrashReports,C.fields.relayPiiConfig]})),O.a.createElement(B.a,a()({},l,{title:Object(x.t)("Client Security"),fields:[C.fields.allowedDomains,C.fields.scrapeJavaScript,C.fields.securityToken,C.fields.securityTokenHeader,C.fields.verifySSL],renderHeader:function(){return O.a.createElement(_.b,{type:"info"},O.a.createElement(D.default,{noMargin:!0},Object(x.tct)("Configure origin URLs which Sentry should accept events from. This is used for communication with clients like [link].",{link:O.a.createElement("a",{href:"https://github.com/getsentry/sentry-javascript"},"sentry-javascript")})," ",Object(x.tct)("This will restrict requests based on the [Origin] and [Referer] headers.",{Origin:O.a.createElement("code",null,"Origin"),Referer:O.a.createElement("code",null,"Referer")})))}}))),O.a.createElement(_.a,null,O.a.createElement(_.e,null,Object(x.t)("Project Administration")),this.renderRemoveProject(),this.renderTransferProject()))}}]),t}(F.default);Y.propTypes={onChangeSlug:j.a.func},Y.contextTypes={organization:j.a.object.isRequired};var J=T()({displayName:"ProjectGeneralSettingsContainer",mixins:[E.a.listenTo(I.a,"onProjectsUpdate")],onProjectsUpdate:function(e){this.changedSlug&&(I.a.getBySlug(this.changedSlug)&&b.browserHistory.replace(Object($.a)("",o()({},this.props,{params:o()({},this.props.params,{projectId:this.changedSlug})}))))},render:function(){var e=this;return O.a.createElement(Y,a()({onChangeSlug:function(t){return e.changedSlug=t}},this.props))}});t.default=J}}]);
//# sourceMappingURL=ProjectGeneralSettings.js.map