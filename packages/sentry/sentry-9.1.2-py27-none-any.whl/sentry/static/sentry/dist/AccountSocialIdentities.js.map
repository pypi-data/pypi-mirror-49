{"version":3,"sources":["webpack:///./app/views/settings/account/accountIdentities.jsx"],"names":["AccountIdentities","handleDisconnect","identity","e","identities","_this","state","setState","filter","_ref","id","disconnectIdentity","catch","_this2","this","isEmpty","length","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","app_views_settings_components_settingsPageHeader__WEBPACK_IMPORTED_MODULE_13__","title","app_components_panels__WEBPACK_IMPORTED_MODULE_12__","disablePadding","grid_emotion__WEBPACK_IMPORTED_MODULE_5__","px","t","app_views_settings_components_emptyMessage__WEBPACK_IMPORTED_MODULE_11__","map","p","key","align","flex","providerLabel","app_components_button__WEBPACK_IMPORTED_MODULE_10__","size","onClick","bind","AsyncView"],"mappings":"yQAaMA,qLAeJC,iBAAmB,SAACC,EAAUC,GAAM,IAC3BC,EAAcC,EAAKC,MAAnBF,WAEPC,EAAKE,SACH,SAAAD,GAGE,MAAO,CACLF,WAHoBE,EAAMF,WAAWI,OAAO,SAAAC,GAAA,OAAAA,EAAEC,KAAeR,EAASQ,OAM1E,kBACEC,YAAmBT,GAAUU,MAAM,WACjCP,EAAKE,SAAS,CACZH,kFA3BR,MAAO,CAAC,CAAC,aAJI,oEAQb,MAAO,uDAIP,MAAO,CACLA,WAAY,yCAwBH,IAAAS,EAAAC,KACLC,EAA2C,IAAjCD,KAAKR,MAAMF,WAAWY,OAEtC,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,QAAD,CAAoBC,MAAM,eAC1BJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,KACEL,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAaC,gBAAc,GACzBN,EAAAC,EAAAC,cAACK,EAAA,IAAD,CAAKC,GAAI,GAAIC,YAAE,gBAEjBT,EAAAC,EAAAC,cAACG,EAAA,EAAD,KACGP,GACCE,EAAAC,EAAAC,cAACQ,EAAA,QAAD,KACGD,YAAE,0DAILX,GACAD,KAAKR,MAAMF,WAAWwB,IAAI,SAAA1B,GAAQ,OAChCe,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAWO,EAAG,EAAGC,IAAK5B,EAASQ,GAAIqB,MAAM,UACvCd,EAAAC,EAAAC,cAACK,EAAA,IAAD,CAAKQ,KAAK,IAAIH,EAAG,GACd3B,EAAS+B,eAGZhB,EAAAC,EAAAC,cAACK,EAAA,IAAD,CAAKK,EAAG,GACNZ,EAAAC,EAAAC,cAACe,EAAA,QAAD,CACEC,KAAK,QACLC,QAASvB,EAAKZ,iBAAiBoC,KAAKxB,EAAMX,IAEzCwB,YAAE,6BAhEOY,WA4EjBtC","file":"AccountSocialIdentities.js","sourcesContent":["import {Box} from 'grid-emotion';\nimport React from 'react';\n\nimport {disconnectIdentity} from 'app/actionCreators/account';\nimport {t} from 'app/locale';\nimport AsyncView from 'app/views/asyncView';\nimport Button from 'app/components/button';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\n\nconst ENDPOINT = '/users/me/social-identities/';\n\nclass AccountIdentities extends AsyncView {\n  getEndpoints() {\n    return [['identities', ENDPOINT]];\n  }\n\n  getTitle() {\n    return 'Identities';\n  }\n\n  getDefaultState() {\n    return {\n      identities: [],\n    };\n  }\n\n  handleDisconnect = (identity, e) => {\n    const {identities} = this.state;\n\n    this.setState(\n      state => {\n        const newIdentities = state.identities.filter(({id}) => id !== identity.id);\n\n        return {\n          identities: newIdentities,\n        };\n      },\n      () =>\n        disconnectIdentity(identity).catch(() => {\n          this.setState({\n            identities,\n          });\n        })\n    );\n  };\n\n  renderBody() {\n    const isEmpty = this.state.identities.length === 0;\n\n    return (\n      <div>\n        <SettingsPageHeader title=\"Identities\" />\n        <Panel>\n          <PanelHeader disablePadding>\n            <Box px={2}>{t('Identities')}</Box>\n          </PanelHeader>\n          <PanelBody>\n            {isEmpty && (\n              <EmptyMessage>\n                {t('There are no identities associated with this account')}\n              </EmptyMessage>\n            )}\n\n            {!isEmpty &&\n              this.state.identities.map(identity => (\n                <PanelItem p={0} key={identity.id} align=\"center\">\n                  <Box flex=\"1\" p={2}>\n                    {identity.providerLabel}\n                  </Box>\n\n                  <Box p={2}>\n                    <Button\n                      size=\"small\"\n                      onClick={this.handleDisconnect.bind(this, identity)}\n                    >\n                      {t('Disconnect')}\n                    </Button>\n                  </Box>\n                </PanelItem>\n              ))}\n          </PanelBody>\n        </Panel>\n      </div>\n    );\n  }\n}\n\nexport default AccountIdentities;\n"],"sourceRoot":""}