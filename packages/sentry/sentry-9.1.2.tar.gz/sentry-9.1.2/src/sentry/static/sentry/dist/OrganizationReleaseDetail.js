(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1604:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s});var n=a(45);function r(e,t){return(new n.Client).requestPromise("/organizations/".concat(e,"/releases/").concat(encodeURIComponent(t),"/"),{method:"DELETE"})}function s(e){return e.reduce(function(e,t){var a=t.filename,n=t.repoName,r=t.author,s=t.type;return e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(a)||(e[n][a]={authors:{},types:new Set,repos:new Set}),e[n][a].authors[r.email]=r,e[n][a].types.add(s),e},{})}},1639:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(0),c=a.n(s),o=a(17),l=a.n(o),i=a(3),u=a(309),m=a(2),d=l()({displayName:"ReleaseStats",propTypes:{release:r.a.object},render:function(){var e=this.props.release,t=e.commitCount||0,a=e.authors&&e.authors.length||0;if(0===t)return null;var n=t+Object(m.t)(1!==t?" commits ":" commit ")+Object(m.t)("by ")+a+Object(m.t)(1!==a?" authors":" author");return c.a.createElement("div",{className:"release-stats"},c.a.createElement(p,null,n),c.a.createElement("span",{style:{display:"inline-block"}},c.a.createElement(u.a,{users:e.authors,avatarSize:25,typeMembers:"authors"})))}}),p=Object(i.default)("div",{target:"eyl9sdc0"})("color:",function(e){return e.theme.gray2},";font-size:12px;line-height:1.2;font-weight:600;text-transform:uppercase;margin-bottom:4px;");t.a=d},1730:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(6),c=a.n(s),o=a(7),l=a.n(o),i=a(5),u=a.n(i),m=a(8),d=a.n(m),p=a(1),h=a.n(p),v=a(0),f=a.n(v),E=a(2),g=a(133),y=a(54),b=a(79),j=a(146),O=a(1639),N=a(148),w=a(68),I=a(214),z=a(10),C=a(39),R=a(9),k=a(24),x=a(110),T=a(1604),D=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s)))).handleDelete=function(){var e=a.props,t=e.orgId,n=e.projectId,r=e.release,s=n?"/".concat(t,"/").concat(n,"/releases/"):"/organizations/".concat(t,"/releases/");Object(C.addLoadingMessage)(Object(E.t)("Deleting Release...")),Object(T.a)(t,r.version).then(function(){z.browserHistory.push(s)}).catch(function(){Object(C.addErrorMessage)(Object(E.t)("This release is referenced by active issues and cannot be removed."))})},a}return d()(t,e),c()(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"m-b-1"},f.a.createElement("div",{className:"btn-group"},f.a.createElement(x.default,{onConfirm:this.handleDelete,message:Object(E.t)("Deleting this release is permanent. Are you sure you wish to continue?")},f.a.createElement(k.default,{size:"small",icon:"icon-trash"},Object(E.t)("Delete")))))}}]),t}(f.a.Component);D.propTypes={orgId:h.a.string.isRequired,projectId:h.a.string,release:R.default.Release.isRequired},a.d(t,"a",function(){return q});var q=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.release,n=t.orgId,r=t.projectId,s=r?"/".concat(n,"/").concat(r,"/releases/").concat(encodeURIComponent(a.version),"/"):"/organizations/".concat(n,"/releases/").concat(encodeURIComponent(a.version),"/"),c=[{title:Object(E.t)("Overview"),to:s},{title:Object(E.t)("New Issues"),to:"".concat(s,"new-events/")},{title:Object(E.t)("All Issues"),to:"".concat(s,"all-events/")},{title:Object(E.t)("Artifacts"),to:"".concat(s,"artifacts/")},{title:Object(E.t)("Commits"),to:"".concat(s,"commits/")}];return f.a.createElement("div",{className:"release-details"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-sm-4 col-xs-12"},f.a.createElement("h3",null,Object(E.t)("Release")," ",f.a.createElement("strong",null,f.a.createElement(I.a,{orgId:n,projectId:r,version:a.version,anchor:!1}))),!!a.url&&f.a.createElement("div",null,f.a.createElement(y.a,{href:a.url},f.a.createElement(N.a,null,a.url))),f.a.createElement("div",{className:"release-meta"},f.a.createElement("span",{className:"icon icon-clock"})," ",f.a.createElement(w.default,{date:a.dateCreated}))),f.a.createElement("div",{className:"col-sm-2 hidden-xs"},f.a.createElement(O.a,{release:a})),f.a.createElement("div",{className:"col-sm-2 hidden-xs"},f.a.createElement("div",{className:"release-stats"},f.a.createElement("h6",{className:"nav-header"},Object(E.t)("New Issues")),f.a.createElement("span",{className:"stream-count"},f.a.createElement(g.default,{value:a.newGroups})))),f.a.createElement("div",{className:"col-sm-2 hidden-xs"},f.a.createElement("div",{className:"release-stats"},f.a.createElement("h6",{className:"nav-header"},Object(E.t)("First Event")),a.firstEvent?f.a.createElement("span",{className:"stream-count"},f.a.createElement(w.default,{date:a.firstEvent})):f.a.createElement("span",null,"—"))),f.a.createElement("div",{className:"col-sm-2 hidden-xs"},f.a.createElement("div",{className:"release-stats"},f.a.createElement("h6",{className:"nav-header"},Object(E.t)("Last Event")),a.lastEvent?f.a.createElement("span",{className:"stream-count"},f.a.createElement(w.default,{date:a.lastEvent})):f.a.createElement("span",null,"—")))),f.a.createElement(D,{api:this.api,orgId:n,projectId:r,release:a}),f.a.createElement(j.default,null,c.map(function(t){return f.a.createElement(b.default,{key:t.to,to:"".concat(t.to).concat(e.context.location.search),isActive:function(){return t.to===e.context.location.pathname}},t.title)})))}}]),t}(f.a.Component);q.propTypes={release:h.a.object.isRequired,orgId:h.a.string.isRequired,projectId:h.a.string},q.contextTypes={location:h.a.object}},2332:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(6),c=a.n(s),o=a(7),l=a.n(o),i=a(5),u=a.n(i),m=a(8),d=a.n(m),p=a(125),h=a.n(p),v=a(1),f=a.n(v),E=a(0),g=a.n(E),y=a(9),b=a(117),j=a(2),O=a(81),N=a(53),w=a(33),I=a(382),z=a(93),C=a(56),R=a(153),k=a(206),x=a(1730),T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),c()(t,[{key:"renderNoAccess",value:function(){return g.a.createElement(k.b,null,g.a.createElement(O.default,{type:"warning"},Object(j.t)("You don't have access to this feature")))}},{key:"render",value:function(){return g.a.createElement(b.a,{features:["organizations:sentry10"],organization:this.props.organization,renderDisabled:this.renderNoAccess},g.a.createElement(I.a,{organization:this.props.organization}),g.a.createElement(D,this.props))}}]),t}(g.a.Component);T.propTypes={organization:y.default.Organization};var D=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),c()(t,[{key:"getChildContext",value:function(){return{release:this.state.release}}},{key:"getTitle",value:function(){var e=this.props,t=e.params.version,a=e.organization;return"Release ".concat(t," | ").concat(a.slug)}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,a=e.version;return[["release","/organizations/".concat(t,"/releases/").concat(encodeURIComponent(a),"/")]]}},{key:"renderBody",value:function(){var e=this.props,t=e.location,a=e.params.orgId,n=this.state.release,r=h()(t.query,Object.values(z.d));return this.state.loading?g.a.createElement(w.default,null):this.state.error?g.a.createElement(N.default,{onRetry:this.fetchData}):g.a.createElement(k.b,null,g.a.createElement(x.a,{release:n,orgId:a}),g.a.cloneElement(this.props.children,{release:n,query:r}))}}]),t}(R.default);D.propTypes={organization:y.default.Organization},D.childContextTypes={release:f.a.object},t.default=Object(C.a)(T)}}]);
//# sourceMappingURL=OrganizationReleaseDetail.js.map