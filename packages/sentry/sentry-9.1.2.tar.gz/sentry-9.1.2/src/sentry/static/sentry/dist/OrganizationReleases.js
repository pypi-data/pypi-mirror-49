(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{2373:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),s=n(6),l=n.n(s),o=n(7),i=n.n(o),u=n(5),c=n.n(u),p=n(8),d=n.n(p),h=n(0),g=n.n(h),f=n(10),y=n(9),m=n(2),v=n(595),E=n(25),z=n(107),j=n(33),b=n(81),k=n(145),R=n(117),q=n(382),w=n(386),O=n(153),L=n(56),S=n(381),A=n(206),B=n(188),I=n(1866),N=n(1856),P=n(1865),Q=n(1863),T=n(12),F=n.n(T),J=n(50),C=n.n(J),D=n(125),G=n.n(D),H=n(93);var Y=function(e){function t(){return a()(this,t),i()(this,c()(t).apply(this,arguments))}return d()(t,e),l()(t,[{key:"renderNoAccess",value:function(){return g.a.createElement(A.b,null,g.a.createElement(b.default,{type:"warning"},Object(m.t)("You don't have access to this feature")))}},{key:"render",value:function(){var e=this.props.organization;return g.a.createElement(R.a,{features:["organizations:sentry10"],organization:e,renderDisabled:this.renderNoAccess},g.a.createElement(q.a,{organization:e}),g.a.createElement(_,this.props))}}]),t}(g.a.Component);Y.propTypes={organization:y.default.Organization.isRequired,selection:y.default.GlobalSelection.isRequired};var _=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=i()(this,(e=c()(t)).call.apply(e,[this].concat(s)))).onSearch=function(e){var t={};""!==e&&(t.query=e);var r=n.props.params.orgId;f.browserHistory.push({pathname:"/organizations/".concat(r,"/releases/"),query:t})},n}return d()(t,e),l()(t,[{key:"getTitle",value:function(){return"".concat(Object(m.t)("Releases")," - ").concat(this.props.organization.slug)}},{key:"getEndpoints",value:function(){var e,t,n=this.props,r=n.organization,a=n.location;return[["releaseList","/organizations/".concat(r.slug,"/releases/"),{query:(e=a.query,t=[].concat(C()(Object.values(H.d)),["cursor","query"]),F()({},G()(e,t),{per_page:50}))}]]}},{key:"hasAnyRelease",value:function(){var e=this.props,t=e.organization.projects,n=e.selection,r=new Set(n.projects);return t.filter(function(e){return r.has(parseInt(e.id,10))}).some(function(e){return!!e.latestRelease})}},{key:"renderStreamBody",value:function(){var e=this.props.organization,t=this.state,n=t.loading,r=t.releaseList;return n?g.a.createElement(j.default,null):0===r.length?this.hasAnyRelease()?this.renderNoQueryResults():this.renderLanding():g.a.createElement(g.a.Fragment,null,this.renderReleaseProgress(),g.a.createElement(I.a,{releaseList:r,orgId:e.slug}))}},{key:"renderReleaseProgress",value:function(){var e=this.props,t=e.organization,n=e.selection,r=t.projects.filter(function(e){return e.hasAccess});if(!(1===n.projects.length||0===n.projects.length&&1===r.length))return null;var a=n.projects.length?r.find(function(e){return parseInt(e.id,10)===n.projects[0]}):r[0];return g.a.createElement(Q.a,{project:a})}},{key:"renderNoQueryResults",value:function(){return g.a.createElement(g.a.Fragment,null,this.renderReleaseProgress(),g.a.createElement(k.a,null,g.a.createElement("p",null,Object(m.t)("Sorry, no releases match your filters."))))}},{key:"renderLanding",value:function(){return g.a.createElement(P.a,null)}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,t=e.location,n=e.organization;return g.a.createElement(A.b,null,g.a.createElement(w.a,{organization:n},g.a.createElement(A.c,null,g.a.createElement(B.a,null,Object(m.t)("Releases")),g.a.createElement("div",null,g.a.createElement(v.a,{defaultQuery:"",placeholder:Object(m.t)("Search for a release"),query:t.query.query,onSearch:this.onSearch}))),g.a.createElement("div",null,g.a.createElement(E.a,null,g.a.createElement(N.a,null),g.a.createElement(E.c,null,this.renderStreamBody())),g.a.createElement(z.default,{pageLinks:this.state.releaseListPageLinks}))))}}]),t}(O.default);_.propTypes={organization:y.default.Organization};t.default=Object(L.a)(Object(S.a)(Y))}}]);
//# sourceMappingURL=OrganizationReleases.js.map