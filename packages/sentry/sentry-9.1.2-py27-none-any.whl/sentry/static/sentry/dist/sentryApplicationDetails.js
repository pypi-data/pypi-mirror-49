(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{1546:function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},1549:function(e,t,n){"use strict";var r=n(11),i=n.n(r),a=n(13),o=n.n(a),s=n(4),c=n.n(s),u=n(6),l=n.n(u),p=n(7),f=n.n(p),h=n(5),d=n.n(h),m=n(8),v=n.n(m),g=n(16),y=n(1),b=n.n(y),w=n(0),E=n.n(w),k=n(28),O=n(1550),x=n.n(O),C=n(25),j=n(14),T=n(380),S=n(586),_=function(e){function t(e){var n,r;c()(this,t);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return(r=f()(this,(n=d()(t)).call.apply(n,[this,e].concat(a)))).getLocation=function(e){return e.location||r.context.location||{}},r.state={highlighted:r.getLocation(e).hash},r}return v()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.getLocation(this.props).hash!==this.getLocation(e).hash){var n=this.getLocation(e).hash;this.scrollToHash(n),this.setState({highlighted:n})}}},{key:"scrollToHash",value:function(e){var t=e||this.getLocation(this.props).hash;if(t)try{x()(Object(S.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){k.captureException(e)}}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.title,r=e.fields,a=e.access,s=e.disabled,c=e.features,u=e.additionalFieldProps,l=e.renderFooter,p=e.renderHeader,f=(e.location,o()(e,["forms","title","fields","access","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),h=Object(j.defined)(t),d={access:a,disabled:s,features:c,additionalFieldProps:u,renderFooter:l,renderHeader:p,highlighted:this.state.highlighted};return E.a.createElement(g.Box,f,h?t.map(function(e){return E.a.createElement(R,i()({key:e.title,title:e.title,fields:e.fields},d))}):E.a.createElement(R,i()({title:n,fields:r},d)))}}]),t}(E.a.Component);_.propTypes={forms:b.a.arrayOf(b.a.shape({title:b.a.string,fields:b.a.arrayOf(b.a.oneOfType([b.a.func,T.a.propTypes.field]))})),fields:b.a.arrayOf(b.a.oneOfType([b.a.func,T.a.propTypes.field])),title:b.a.string,access:b.a.object,features:b.a.object,additionalFieldProps:b.a.object,renderFooter:b.a.func,renderHeader:b.a.func,disabled:b.a.oneOfType([b.a.func,b.a.bool])},_.defaultProps={additionalFieldProps:{}},_.contextTypes={location:b.a.object},t.a=_;var R=function(e){function t(){return c()(this,t),f()(this,d()(t).apply(this,arguments))}return v()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.fields,a=t.access,s=t.disabled,c=t.additionalFieldProps,u=t.renderFooter,l=t.renderHeader,p=(t.location,o()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader","location"])),f="function"==typeof u,h="function"==typeof l;return E.a.createElement(C.a,{key:n,id:Object(S.a)(n)},E.a.createElement(C.e,null,n),E.a.createElement(C.c,null,h&&l({title:n,fields:r}),r.map(function(t){if("function"==typeof t)return t();t.defaultValue;var n=o()(t,["defaultValue"]);return!0===s&&(n.disabled=!0,n.disabledReason=void 0),E.a.createElement(T.a,i()({access:a,disabled:s,key:t.name},p,c,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))}),f&&u({title:n,fields:r})))}}]),t}(E.a.Component);R.propTypes={title:b.a.string,fields:b.a.arrayOf(b.a.oneOfType([b.a.func,T.a.propTypes.field])),access:b.a.object,additionalFieldProps:b.a.object,highlighted:b.a.string,renderHeader:b.a.func,renderFooter:b.a.func,disabled:b.a.oneOfType([b.a.func,b.a.bool])}},1550:function(e,t,n){var r=n(1551);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return r(0,function(e,t,n){var r,i=document.body,a=document.documentElement,o=e.getBoundingClientRect(),s=a.clientHeight,c=Math.max(i.scrollHeight,i.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);t=t||0,r="bottom"===n?o.bottom-s:"middle"===n?o.bottom-s/2-o.height/2:o.top;var u=c-s;return Math.min(r+t+window.pageYOffset,u)}(e,t.offset,t.align),t)}},1551:function(e,t,n){var r=n(1552),i=n(1556);e.exports=function(e,t,n){n=n||{};var a=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;return{top:e,left:t}}(),o=r(a).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);function s(){i(s),o.update()}return o.update(function(e){window.scrollTo(0|e.left,0|e.top)}),o.on("end",function(){s=function(){}}),s(),o}},1552:function(e,t,n){var r=n(1553),i=n(1554),a=n(1546),o=n(1555);function s(e){if(!(this instanceof s))return new s(e);this._from=e,this.ease("linear"),this.duration(500)}e.exports=s,r(s.prototype),s.prototype.reset=function(){return this.isArray="array"===a(this._from),this._curr=i(this._from),this._done=!1,this._start=Date.now(),this},s.prototype.to=function(e){return this.reset(),this._to=e,this},s.prototype.duration=function(e){return this._duration=e,this},s.prototype.ease=function(e){if(!(e="function"==typeof e?e:o[e]))throw new TypeError("invalid easing function");return this._ease=e,this},s.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},s.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,i=this._curr,a=(0,this._ease)((t-this._start)/e);if(this.isArray){for(var o=0;o<n.length;++o)i[o]=n[o]+(r[o]-n[o])*a;return this._update(i),this}for(var s in n)i[s]=n[s]+(r[s]-n[s])*a;return this._update(i),this}},s.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},1553:function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1554:function(e,t,n){var r;try{r=n(1546)}catch(e){r=n(1546)}e.exports=function e(t){switch(r(t)){case"object":var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n;case"array":for(var n=new Array(t.length),a=0,o=t.length;a<o;a++)n[a]=e(t[a]);return n;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},1555:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},1556:function(e,t){t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-n)),i=setTimeout(e,r);return n=t,i};var n=(new Date).getTime();var r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){r.call(window,e)}},1559:function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(6),o=n.n(a),s=n(7),c=n.n(s),u=n(5),l=n.n(u),p=n(8),f=n.n(p),h=n(16),d=n(1),m=n.n(d),v=n(0),g=n.n(v),y=n(51),b=n.n(y),w=n(3),E=n(223),k=n(258),O=n(24),x=n(587),C=n(23),j=Object(w.default)(function(e){return g.a.createElement("input",e)},{target:"e1usehz70"})(E.a,";background-color:",function(e){return e.theme.offWhite},";border-right-width:0;border-top-right-radius:0;border-bottom-right-radius:0;&:hover,&:focus{background-color:",function(e){return e.theme.offWhite},";border-right-width:0;}"),T=Object(w.default)("div",{target:"e1usehz71"})("flex-grow:1;border:none;"),S=Object(w.default)(O.default,{target:"e1usehz72"})("flex-shrink:1;border-radius:0 0.25em 0.25em 0;box-shadow:none;"),_=function(e){function t(e){var n;return i()(this,t),(n=c()(this,l()(t).call(this,e))).handleCopyClick=function(e){if(n.textRef.current){var t=n.props.onCopy;n.handleSelectText(),t(n.props.children,e),e.stopPropagation()}},n.handleSelectText=function(){n.textRef.current&&Object(k.a)(b.a.findDOMNode(n.textRef.current))},n.textRef=g.a.createRef(),n}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.children;return g.a.createElement(h.Flex,null,g.a.createElement(T,null,g.a.createElement(j,{readOnly:!0,ref:this.textRef,style:t,value:n,onClick:this.handleSelectText})),g.a.createElement(x.a,{hideUnsupported:!0,onClick:this.handleCopyClick,value:n},g.a.createElement(S,{type:"button",size:"xsmall",onClick:this.handleCopyClick},g.a.createElement(C.default,{src:"icon-clipboard",size:"1.25em"}))))}}]),t}(g.a.Component);_.propTypes={children:m.a.string.isRequired,style:m.a.object,onCopy:m.a.func},_.defaultProps={onCopy:function(){}},t.a=_},1589:function(e,t,n){var r=n(384),i=n(812),a=Object.prototype.hasOwnProperty,o=i(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=o},1590:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1675:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(26),i=n.n(r),a=n(50),o=n.n(a),s=n(4),c=n.n(s),u=n(6),l=n.n(u),p=n(1589),f=n.n(p),h=n(1676),d=n.n(h),m={read:0,write:1,admin:2},v={project:"Project",team:"Team",release:"Release",event:"Event",org:"Organization",member:"Member"},g=function(){function e(t){var n=this;c()(this,e),this.compareScopes=function(e,t){return n.permissionLevel(e)-n.permissionLevel(t)},this.permissionLevel=function(e){var t=e.split(":")[1];return m[t]},this.scopes=t}return l()(e,[{key:"toResourcePermissions",value:function(){var e=o()(this.scopes),t=this.defaultResourcePermissions;return e.includes("project:releases")&&(t.Release="admin",d()(e,"project:releases")),this.topScopes(e).forEach(function(e){var n=e.split(":"),r=i()(n,2),a=r[0],o=r[1];t[v[a]]=o}),t}},{key:"toPermissions",value:function(){var e=o()(this.scopes),t={read:[],write:[],admin:[]};return e.includes("project:releases")&&(t.admin.push("Release"),d()(e,"project:releases")),this.topScopes(e).forEach(function(e){var n=e.split(":"),r=i()(n,2),a=r[0],o=r[1];t[o].push(v[a])}),t}},{key:"topScopes",value:function(e){var t=this;return Object.values(f()(e,function(e){return e.split(":")[0]})).map(function(e){return e.sort(t.compareScopes)}).map(function(e){return e.pop()})}},{key:"defaultResourcePermissions",get:function(){return{Project:"no-access",Team:"no-access",Release:"no-access",Event:"no-access",Organization:"no-access",Member:"no-access"}}}]),e}()},1676:function(e,t,n){var r=n(591)(n(1677));e.exports=r},1677:function(e,t,n){var r=n(1678);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},1678:function(e,t,n){var r=n(288),i=n(596),a=n(1679),o=n(485),s=n(1590),c=Array.prototype.splice;e.exports=function(e,t,n,u){var l=u?a:i,p=-1,f=t.length,h=e;for(e===t&&(t=s(t)),n&&(h=r(e,o(n)));++p<f;)for(var d=0,m=t[p],v=n?n(m):m;(d=l(h,v,d,u))>-1;)h!==e&&c.call(h,d,1),c.call(e,d,1);return e}},1679:function(e,t){e.exports=function(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}},1876:function(e,t,n){var r=n(1877)(n(1878));e.exports=r},1877:function(e,t,n){var r=n(224),i=n(385),a=n(588);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!i(t)){var c=r(n,3);t=a(t),n=function(e){return c(s[e],e,s)}}var u=e(t,n,o);return u>-1?s[c?t[u]:u]:void 0}}},1878:function(e,t,n){var r=n(836),i=n(224),a=n(348),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:a(n);return c<0&&(c=o(s+c,0)),r(e,i(t,3),c)}},2353:function(e,t,n){"use strict";n.r(t);var r=n(50),i=n.n(r),a=n(12),o=n.n(a),s=n(96),c=n.n(s),u=n(26),l=n.n(u),p=n(4),f=n.n(p),h=n(6),d=n.n(h),m=n(7),v=n.n(m),g=n(5),y=n.n(g),b=n(8),w=n.n(b),E=n(1),k=n.n(E),O=n(0),x=n.n(O),C=n(10),j=n(39),T=n(25),S=n(2),_=n(153),R=n(257),q=n(594),P=n(482),F=n(1549),M=n(99),A=n(1675),L=n(321),B=n.n(L),Q=n(1876),D=n.n(Q),H=n(47),z=n(481),I=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=v()(this,(e=y()(t)).call.apply(e,[this].concat(i)))).onChange=function(e,t){var r=n.state.permissions;r[e]=t,n.save(r)},n.save=function(e){n.setState({permissions:e}),n.props.onChange(e),n.context.form.setValue("scopes",n.permissionStateToList())},n.state={permissions:n.props.permissions},n}return w()(t,e),d()(t,[{key:"permissionStateToList",value:function(){var e=this.state.permissions;return B()(Object.entries(e),function(e){var t=l()(e,2),n=t[0],r=t[1];return function(e){return D()(H.s,["resource",e])}(n).choices[r].scopes})}},{key:"render",value:function(){var e=this,t=this.state.permissions;return x.a.createElement(x.a.Fragment,null,H.s.map(function(n){var r=Object.entries(n.choices).map(function(e){var t=l()(e,2);return[t[0],t[1].label]}),i=t[n.resource];return x.a.createElement(z.default,{name:"".concat(n.resource,"--permission"),key:n.resource,choices:r,help:Object(S.t)(n.help),label:Object(S.t)(n.label||n.resource),onChange:e.onChange.bind(e,n.resource),value:i,defaultValue:i})}))}}]),t}(x.a.Component);I.contextTypes={router:k.a.object.isRequired,form:k.a.object},I.propTypes={permissions:k.a.object.isRequired,onChange:k.a.func.isRequired};var N=["issue"],V={issue:"created, resolved, assigned"},$={issue:"Event"},J=n(3),U=n(200),W=n(29),Y=n(16),X=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=v()(this,(e=y()(t)).call.apply(e,[this].concat(i)))).onChange=function(e){var t=e.target.checked,r=n.props.resource;n.setState({checked:t}),n.props.onChange(r,t)},n.state={checked:n.props.checked},n}return w()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.resource,n=e.disabled,r=this.state.checked,i="Must have at least 'Read' permissions enabled for ".concat(t);return x.a.createElement(x.a.Fragment,null,x.a.createElement(Z,{key:t},x.a.createElement(W.default,{disabled:!n,title:i},x.a.createElement(K,{disabled:n},x.a.createElement(G,null,x.a.createElement(te,null,Object(S.t)("".concat(t))),x.a.createElement(ee,null,Object(S.t)("".concat(V[t])))),x.a.createElement(U.a,{key:"".concat(t).concat(r),disabled:n,id:t,value:t,checked:r,onChange:this.onChange})))))}}]),t}(x.a.Component);X.propTypes={resource:k.a.string.isRequired,disabled:k.a.bool.isRequired,checked:k.a.bool.isRequired,onChange:k.a.func.isRequired};var G=Object(J.default)(Y.Flex,{target:"e139qogw0"})("flex-direction:column;"),K=Object(J.default)("div",{target:"e139qogw1"})("display:flex;flex-direction:row;justify-content:space-between;background:",function(e){return e.theme.whiteDark},";opacity:",function(e){return e.disabled?.3:1},";border-radius:3px;flex:1;padding:12px;height:100%;"),Z=Object(J.default)("div",{target:"e139qogw2"})("padding:12px;width:33%;"),ee=Object(J.default)("div",{target:"e139qogw3"})("font-size:12px;line-height:1;color:",function(e){return e.theme.gray2},";white-space:nowrap;"),te=Object(J.default)("div",{target:"e139qogw4"})("font-size:16px;line-height:1;color:",function(e){return e.theme.textColor},";white-space:nowrap;margin-bottom:5px;"),ne=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=v()(this,(e=y()(t)).call.apply(e,[this].concat(i)))).onChange=function(e,t){var r=new Set(n.state.events);t?r.add(e):r.delete(e),n.save(Array.from(r))},n.save=function(e){n.setState({events:e}),n.props.onChange(e),n.context.form.setValue("events",e)},n.state={events:n.props.events},n.context.form.setValue("events",n.props.events),n}return w()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){var t=this.state.events,n=this.props.permissions,r=t.filter(function(e){return"no-access"!==n[$[e]]});JSON.stringify(t)!==JSON.stringify(r)&&this.save(r)}},{key:"render",value:function(){var e=this,t=this.props.permissions,n=this.state.events;return x.a.createElement(re,null,N.map(function(r){var i="no-access"===t[$[r]];return x.a.createElement(x.a.Fragment,{key:r},x.a.createElement(X,{key:"".concat(r).concat(i),disabled:i,checked:n.includes(r)&&!i,resource:r,onChange:e.onChange}))}))}}]),t}(x.a.Component);ne.contextTypes={router:k.a.object.isRequired,form:k.a.object},ne.propTypes={permissions:k.a.object.isRequired,events:k.a.array.isRequired,onChange:k.a.func.isRequired};var re=Object(J.default)("div",{target:"e5acrgj0"})("display:flex;flex-wrap:wrap;"),ie=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=v()(this,(e=y()(t)).call.apply(e,[this].concat(i)))).onPermissionChange=function(e){n.setState({permissions:e})},n.onEventChange=function(e){n.setState({events:e})},n.state={permissions:n.scopeListToPermissionState(),events:n.props.events},n}return w()(t,e),d()(t,[{key:"scopeListToPermissionState",value:function(){return new A.a(this.props.scopes).toResourcePermissions()}},{key:"render",value:function(){var e=this.state,t=e.permissions,n=e.events;return x.a.createElement(x.a.Fragment,null,x.a.createElement(T.a,null,x.a.createElement(T.e,null,Object(S.t)("Permissions")),x.a.createElement(T.c,null,x.a.createElement(I,{permissions:t,onChange:this.onPermissionChange}))),x.a.createElement(T.a,null,x.a.createElement(T.e,null,Object(S.t)("Resource Subscriptions")),x.a.createElement(T.c,null,x.a.createElement(ne,{permissions:t,events:n,onChange:this.onEventChange}))))}}]),t}(x.a.Component);ie.contextTypes={router:k.a.object.isRequired,form:k.a.object},ie.propTypes={scopes:k.a.arrayOf(k.a.string).isRequired,events:k.a.arrayOf(k.a.string).isRequired};var ae=n(1559),oe=n(850),se=n(165);n.d(t,"default",function(){return ue});var ce=function(e){function t(){return f()(this,t),v()(this,y()(t).apply(this,arguments))}return w()(t,e),d()(t,[{key:"getData",value:function(){return Object.entries(this.fields.toJSON()).reduce(function(e,t){var n=l()(t,2),r=n[0],i=n[1];return r.endsWith("--permission")||(e[r]=i),e},{})}}]),t}(q.a),ue=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=v()(this,(e=y()(t)).call.apply(e,[this].concat(i)))).onSubmitSuccess=function(e){var t=n.props.params.orgId;Object(j.addSuccessMessage)(Object(S.t)("".concat(e.name," successfully saved."))),C.browserHistory.push("/settings/".concat(t,"/developer-settings/"))},n.form=new ce,n}return w()(t,e),d()(t,[{key:"getDefaultState",value:function(){return o()({},c()(y()(t.prototype),"getDefaultState",this).call(this),{app:null})}},{key:"getEndpoints",value:function(){var e=this.props.params.appSlug;return e?[["app","/sentry-apps/".concat(e,"/")]]:[]}},{key:"getTitle",value:function(){return Object(S.t)("Sentry Application Details")}},{key:"normalize",value:function(e){return 0==e.length?e:e.map(function(e){return e.split(".").shift()})}},{key:"renderBody",value:function(){var e=this.props.params.orgId,t=this.state.app,n=t&&i()(t.scopes)||[],r=t&&this.normalize(t.events)||[],a=t?"PUT":"POST",s=t?"/sentry-apps/".concat(t.slug,"/"):"/sentry-apps/";return x.a.createElement("div",null,x.a.createElement(M.default,{title:this.getTitle()}),x.a.createElement(R.default,{apiMethod:a,apiEndpoint:s,allowUndo:!0,initialData:o()({organization:e,isAlertable:!1,schema:{}},t),model:this.form,onSubmitSuccess:this.onSubmitSuccess},x.a.createElement(F.a,{location:this.props.location,forms:oe.default}),x.a.createElement(ie,{scopes:n,events:r}),t&&x.a.createElement(T.a,null,x.a.createElement(T.e,null,Object(S.t)("Credentials")),x.a.createElement(T.c,null,x.a.createElement(P.a,{name:"clientId",label:"Client ID",overflow:!0},function(e){var t=e.value;return x.a.createElement(ae.a,null,Object(se.a)({value:t,fixed:"PERCY_CLIENT_ID"}))}),x.a.createElement(P.a,{overflow:!0,name:"clientSecret",label:"Client Secret"},function(e){var t=e.value;return t?x.a.createElement(ae.a,null,Object(se.a)({value:t,fixed:"PERCY_CLIENT_SECRET"})):x.a.createElement("em",null,"hidden")})))))}}]),t}(_.default);ue.contextTypes={router:k.a.object.isRequired}}}]);
//# sourceMappingURL=sentryApplicationDetails.js.map