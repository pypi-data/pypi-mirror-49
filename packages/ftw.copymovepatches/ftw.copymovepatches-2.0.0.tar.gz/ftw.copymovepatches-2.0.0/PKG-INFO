Metadata-Version: 2.1
Name: ftw.copymovepatches
Version: 2.0.0
Summary: ftw.copymovepatches
Home-page: https://github.com/4teamwork/ftw.copymovepatches
Author: 4teamwork AG
Author-email: mailto:info@4teamwork.ch
Maintainer: 4teamwork
License: GPL2
Description: .. contents:: Table of Contents
        
        
        Introduction
        ============
        
        This package implements some magical improvements compared to the default plone copy/move/rename implementation.
        
        As far as we manage to get changes in to Plone/CMFCore this packages is no longer necessary.
        
        
        
        Lighting fast move/rename
        --------------------------
        This package provides a improved move/rename implementation.
        The more files you want to move the faster it will be compared to the default Plone implementation.
        
        Basically it does not an uncatalog an afterwards a catalog of the obejct, but updates
        the indexed data where necessary. This saves us from reindexing the whole moved
        structure.
        The main issue was that the searchableText from Files was indexed again.
        
        
        Example measurement with 1 Folder, which contains 1 Document and 300 Files (almost empty PDFs):
        
        Plone: approx. 80s
        With this package: approx. 8s
        
        PR for this change is open at: XXX (Add URL to PR)
        
        
        Update modification date when moving
        ------------------------------------
        
        When building cache keys based on the modification dates of objects it is
        crucial that the modification dates are updated on any change.
        By default, the modification date is updated when the *content* is changed,
        which is not the case when moving objects around.
        
        The "move"-patch in this package changes the behavior so that a "move" will
        also trigger a modification date update and thus give caches the chance to
        invalidate when they are built with the modification date and need to be
        invalidated when the path is updated.
        
        
        
        Backport of dexterity patch: set copy flags
        -------------------------------------------
        
        **Problem:**
        
        When copying a DX container which has AT children, the UID of the AT
        children was not updated.
        The reason for the error is that the DX container copy did not have the
        `_v_is_cp` flag while the AT children were processed and thus the flag
        was not properly delegated.
        
        **Solution:**
        
        By copying the `_v_is_cp` and `_v_cp_refs flags` to the copy we have the
        same behavior as it used to be with AT, which does fix the error.
        
        - Issue: https://github.com/plone/Products.CMFPlone/issues/1735
        - Plone 4 fix: https://github.com/plone/plone.dexterity/pull/60
        - Plone 5 fix: https://github.com/plone/plone.dexterity/pull/61
        
        **Fix inconsistent state:**
        
        Without this patch, copy / paste could lead to incosinstent state.
        When you've installed ``ftw.copymovepatches`` on an existing installation and
        encounter issues with your catalog consistency your best shot is to try and
        resolve them with ``ftw.catalogdoctor``. See
        https://github.com/4teamwork/ftw.catalogdoctor/ for more information about how
        to install and run the package.
        
        
        Compatibility
        -------------
        
        Plone 4.3.x
        
        
        Installation
        ============
        
        - Add the package to your buildout configuration:
        
        ::
        
            [instance]
            eggs +=
                ...
                ftw.copymovepatches
        
        
        Development
        ===========
        
        **Python:**
        
        1. Fork this repo
        2. Clone your fork
        3. Shell: ``ln -s development.cfg buidlout.cfg``
        4. Shell: ``python boostrap.py``
        5. Shell: ``bin/buildout``
        
        Run ``bin/test`` to test your changes.
        
        Or start an instance by running ``bin/instance fg``.
        
        
        Links
        =====
        
        - Github: https://github.com/4teamwork/ftw.copymovepatches
        - Issues: https://github.com/4teamwork/ftw.copymovepatches/issues
        - Pypi: http://pypi.python.org/pypi/ftw.copymovepatches
        - Continuous integration: https://jenkins.4teamwork.ch/search?q=ftw.copymovepatches
        
        
        Copyright
        =========
        
        This package is copyright by `4teamwork <http://www.4teamwork.ch/>`_.
        
        ``ftw.copymovepatches`` is licensed under GNU General Public License, version 2.
        
        Changelog
        =========
        
        
        2.0.0 (2019-07-15)
        ------------------
        
        - Drop `copymovepatches-catalog-fixes` view in favour of https://github.com/4teamwork/ftw.catalogdoctor/. [deiferni]
        
        
        1.1.1 (2019-06-19)
        ------------------
        
        - Also reindex Date (which defaults to modified) when moving an object. [njohner]
        - Fixed error (`issue 13 <https://github.com/4teamwork/ftw.copymovepatches/issues/13>`_)  when renaming Plone Site.  [maurits]
        
        
        1.1.0 (2018-03-01)
        ------------------
        
        - Add support for Plone 5.1. [mbaechtold]
        
        - Add support for Products.CMFCore >= 2.2.11 [avoinea]
        
        
        1.0.1 (2016-09-26)
        ------------------
        
        - ZCML: Include monkeypatcher before using it. [jone]
        
        
        1.0.0 (2016-09-13)
        ------------------
        
        - Fix edge case with collective.indexing and other 3rd party packages and rename a nested structure.
          [mathias.leimgruber]
        
        
        1.0.0a4 (2016-09-07)
        --------------------
        
        - Update modification date when moving an object. [jone]
        
        
        1.0.0a3 (2016-09-07)
        --------------------
        
        - Make add-on more robust by handling a special case which may happen when
          "collective.indexing" is installed and an object is created with "plone.api"
          in a subscriber listening on "IObjectAddedEvent".
          [mbaechtold, mathias.leimgruber]
        
        
        1.0.0a2 (2016-09-05)
        --------------------
        
        - Implement `delete`.
          [mathias.leimgruber]
        
        
        1.0.0a1 (2016-09-02)
        --------------------
        
        - Init Implementation.
          [jone & mathias.leimgruber]
        
        - Package generated using bobtemplates.4teamwork
        
Keywords: ftw copymovepatches
Platform: UNKNOWN
Classifier: Framework :: Plone
Classifier: Framework :: Plone :: 4.3
Classifier: Framework :: Plone :: 5.1
Classifier: License :: OSI Approved :: GNU General Public License (GPL)
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 2.7
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Provides-Extra: tests
