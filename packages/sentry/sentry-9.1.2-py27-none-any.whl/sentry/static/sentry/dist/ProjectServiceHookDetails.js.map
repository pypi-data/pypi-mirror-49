{"version":3,"sources":["webpack:///./app/views/settings/components/forms/textCopyInput.jsx","webpack:///./app/views/settings/components/forms/controls/multipleCheckbox.jsx","webpack:///./app/views/settings/project/serviceHookSettingsForm.jsx","webpack:///./app/views/settings/project/projectServiceHookDetails.jsx"],"names":["StyledInput","styled","props","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","target","inputStyles","p","theme","offWhite","OverflowContainer","StyledCopyButton","Button","TextCopyInput","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","call","handleCopyClick","e","textRef","current","onCopy","handleSelectText","children","stopPropagation","selectText","ReactDOM","findDOMNode","React","createRef","_this$props","style","grid_emotion__WEBPACK_IMPORTED_MODULE_5__","readOnly","ref","value","onClick","app_components_clipboard__WEBPACK_IMPORTED_MODULE_13__","hideUnsupported","type","size","app_components_inlineSvg__WEBPACK_IMPORTED_MODULE_14__","src","Component","propTypes","PropTypes","string","isRequired","object","func","defaultProps","MultipleCheckboxWrapper","Label","CheckboxLabel","MultipleCheckbox","onChange","selectedValue","checked","concat","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default","filter","v","_this2","_this$props2","disabled","choices","react__WEBPACK_IMPORTED_MODULE_9___default","map","_ref","_ref2","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","choiceValue","choiceLabel","grid_emotion__WEBPACK_IMPORTED_MODULE_7__","key","w","bind","defined","indexOf","arrayOf","oneOfType","number","bool","array","react_router__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","n","prop_types__WEBPACK_IMPORTED_MODULE_2__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","create_react_class__WEBPACK_IMPORTED_MODULE_3__","create_react_class__WEBPACK_IMPORTED_MODULE_3___default","app_locale__WEBPACK_IMPORTED_MODULE_4__","app_views_settings_components_forms_apiForm__WEBPACK_IMPORTED_MODULE_5__","app_views_settings_components_forms_booleanField__WEBPACK_IMPORTED_MODULE_6__","app_views_settings_components_forms_formField__WEBPACK_IMPORTED_MODULE_7__","app_views_settings_components_forms_textField__WEBPACK_IMPORTED_MODULE_8__","app_views_settings_components_forms_controls_multipleCheckbox__WEBPACK_IMPORTED_MODULE_9__","app_components_panels__WEBPACK_IMPORTED_MODULE_10__","EVENT_CHOICES","createReactClass","displayName","orgId","projectId","hookId","initialData","onSubmitSuccess","browserHistory","push","render","endpoint","apiMethod","apiEndpoint","onCancel","footerStyle","marginTop","paddingRight","submitLabel","t","name","label","required","help","inline","peek","HookStats","until","Math","floor","Date","getTime","since","_this$props$params","params","query","resolution","point","pointIdx","chart","timeLabel","getTimeLabel","total","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default","y","toLocaleString","emptyStats","stats","state","x","ts","app_components_panels__WEBPACK_IMPORTED_MODULE_13__","app_views_settings_components_emptyMessage__WEBPACK_IMPORTED_MODULE_15__","title","description","app_components_stackedBarChart__WEBPACK_IMPORTED_MODULE_21__","points","height","barClasses","className","border","tooltip","renderTooltip","AsyncComponent","ProjectServiceHookDetails","onDelete","_this$props$params2","loadingIndicator","IndicatorStore","add","api","request","method","success","remove","error","duration","_this$props$params3","_this$props$params4","hook","app_views_settings_components_settingsPageHeader__WEBPACK_IMPORTED_MODULE_20__","app_components_errorBoundary__WEBPACK_IMPORTED_MODULE_16__","app_views_settings_project_serviceHookSettingsForm__WEBPACK_IMPORTED_MODULE_23__","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default","isActive","status","icon","app_views_settings_components_forms_field__WEBPACK_IMPORTED_MODULE_17__","flexibleControlStateSize","app_views_settings_components_forms_textCopyInput__WEBPACK_IMPORTED_MODULE_22__","getDynamicText","secret","fixed","app_components_button__WEBPACK_IMPORTED_MODULE_14__","priority","AsyncView"],"mappings":"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","file":"ProjectServiceHookDetails.js","sourcesContent":["import {Flex} from 'grid-emotion';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'react-emotion';\n\nimport {inputStyles} from 'app/styles/input';\nimport {selectText} from 'app/utils/selectText';\nimport Button from 'app/components/button';\nimport Clipboard from 'app/components/clipboard';\nimport InlineSvg from 'app/components/inlineSvg';\n\nconst StyledInput = styled(props => {\n  return <input {...props} />;\n})`\n  ${inputStyles};\n  background-color: ${p => p.theme.offWhite};\n  border-right-width: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  &:hover,\n  &:focus {\n    background-color: ${p => p.theme.offWhite};\n    border-right-width: 0;\n  }\n`;\n\nconst OverflowContainer = styled('div')`\n  flex-grow: 1;\n  border: none;\n`;\n\nconst StyledCopyButton = styled(Button)`\n  flex-shrink: 1;\n  border-radius: 0 0.25em 0.25em 0;\n  box-shadow: none;\n`;\n\nclass TextCopyInput extends React.Component {\n  static propTypes = {\n    /**\n     * Text to copy\n     */\n    children: PropTypes.string.isRequired,\n    /**\n     * CSS style object\n     */\n    style: PropTypes.object,\n    onCopy: PropTypes.func,\n  };\n\n  static defaultProps = {\n    onCopy: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.textRef = React.createRef();\n  }\n\n  // Select text when copy button is clicked\n  handleCopyClick = e => {\n    if (!this.textRef.current) {\n      return;\n    }\n\n    const {onCopy} = this.props;\n\n    this.handleSelectText();\n\n    onCopy(this.props.children, e);\n\n    e.stopPropagation();\n  };\n\n  handleSelectText = () => {\n    if (!this.textRef.current) {\n      return;\n    }\n\n    // We use findDOMNode here because `this.textRef` is not a dom node,\n    // it's a ref to AutoSelectText\n    selectText(ReactDOM.findDOMNode(this.textRef.current));\n  };\n\n  render() {\n    const {style, children} = this.props;\n\n    return (\n      <Flex>\n        <OverflowContainer>\n          <StyledInput\n            readOnly\n            ref={this.textRef}\n            style={style}\n            value={children}\n            onClick={this.handleSelectText}\n          />\n        </OverflowContainer>\n        <Clipboard hideUnsupported onClick={this.handleCopyClick} value={children}>\n          <StyledCopyButton type=\"button\" size=\"xsmall\" onClick={this.handleCopyClick}>\n            <InlineSvg src=\"icon-clipboard\" size=\"1.25em\" />\n          </StyledCopyButton>\n        </Clipboard>\n      </Flex>\n    );\n  }\n}\n\nexport default TextCopyInput;\n","import {Box} from 'grid-emotion';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'react-emotion';\n\nimport {defined} from 'app/utils';\n\nconst MultipleCheckboxWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Label = styled.label`\n  font-weight: normal;\n  white-space: nowrap;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  width: 20%;\n`;\n\nconst CheckboxLabel = styled.span`\n  margin-left: 3px;\n`;\n\nexport default class MultipleCheckbox extends React.Component {\n  static propTypes = {\n    value: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n    onChange: PropTypes.func,\n    disabled: PropTypes.bool,\n    choices: PropTypes.array.isRequired,\n  };\n\n  onChange = (selectedValue, e) => {\n    const {value, onChange} = this.props;\n    let newValue;\n\n    if (typeof onChange !== 'function') {\n      return;\n    }\n\n    if (e.target.checked) {\n      newValue = value ? [...value, selectedValue] : [value];\n    } else {\n      newValue = value.filter(v => v !== selectedValue);\n    }\n\n    onChange(newValue, e);\n  };\n\n  render() {\n    const {disabled, choices, value} = this.props;\n\n    return (\n      <MultipleCheckboxWrapper>\n        {choices.map(([choiceValue, choiceLabel]) => {\n          return (\n            <Box key={choiceValue} w={[1, 1 / 2, 1 / 3, 1 / 4]}>\n              <Label>\n                <input\n                  type=\"checkbox\"\n                  value={choiceValue}\n                  onChange={this.onChange.bind(this, choiceValue)}\n                  disabled={disabled}\n                  checked={defined(value) && value.indexOf(choiceValue) !== -1}\n                />\n                <CheckboxLabel>{choiceLabel}</CheckboxLabel>\n              </Label>\n            </Box>\n          );\n        })}\n      </MultipleCheckboxWrapper>\n    );\n  }\n}\n","import {browserHistory} from 'react-router';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport createReactClass from 'create-react-class';\n\nimport {t} from 'app/locale';\nimport ApiForm from 'app/views/settings/components/forms/apiForm';\nimport BooleanField from 'app/views/settings/components/forms/booleanField';\nimport FormField from 'app/views/settings/components/forms/formField';\nimport TextField from 'app/views/settings/components/forms/textField';\nimport MultipleCheckbox from 'app/views/settings/components/forms/controls/multipleCheckbox';\nimport {Panel, PanelBody, PanelHeader} from 'app/components/panels';\n\nconst EVENT_CHOICES = ['event.alert', 'event.created'].map(e => [e, e]);\n\nexport default createReactClass({\n  displayName: 'ServiceHookSettingsForm',\n\n  propTypes: {\n    orgId: PropTypes.string.isRequired,\n    projectId: PropTypes.string.isRequired,\n    hookId: PropTypes.string,\n    initialData: PropTypes.object.isRequired,\n  },\n\n  onSubmitSuccess() {\n    const {orgId, projectId} = this.props;\n    browserHistory.push(`/settings/${orgId}/projects/${projectId}/hooks/`);\n  },\n\n  render() {\n    const {initialData, orgId, projectId, hookId} = this.props;\n\n    const endpoint = hookId\n      ? `/projects/${orgId}/${projectId}/hooks/${hookId}/`\n      : `/projects/${orgId}/${projectId}/hooks/`;\n\n    return (\n      <Panel>\n        <ApiForm\n          apiMethod={hookId ? 'PUT' : 'POST'}\n          apiEndpoint={endpoint}\n          initialData={initialData}\n          onSubmitSuccess={this.onSubmitSuccess}\n          onCancel={this.onCancel}\n          footerStyle={{\n            marginTop: 0,\n            paddingRight: 20,\n          }}\n          submitLabel={hookId ? t('Save Changes') : t('Create Hook')}\n        >\n          <PanelHeader>{t('Hook Configuration')}</PanelHeader>\n          <PanelBody>\n            <BooleanField name=\"isActive\" label={t('Active')} />\n            <TextField\n              name=\"url\"\n              label={t('URL')}\n              required\n              help={t('The URL which will receive events.')}\n            />\n            <FormField\n              name=\"events\"\n              choices={EVENT_CHOICES}\n              label={t('Events')}\n              inline={false}\n              help={t('The event types you wish to subscribe to.')}\n            >\n              {({value, onChange}) => (\n                <MultipleCheckbox\n                  onChange={onChange}\n                  value={value.peek()}\n                  choices={EVENT_CHOICES}\n                />\n              )}\n            </FormField>\n          </PanelBody>\n        </ApiForm>\n      </Panel>\n    );\n  },\n});\n","import {browserHistory} from 'react-router';\nimport React from 'react';\n\nimport {t} from 'app/locale';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport AsyncView from 'app/views/asyncView';\nimport {Panel, PanelAlert, PanelBody, PanelHeader} from 'app/components/panels';\nimport Button from 'app/components/button';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\nimport ErrorBoundary from 'app/components/errorBoundary';\nimport Field from 'app/views/settings/components/forms/field';\nimport getDynamicText from 'app/utils/getDynamicText';\nimport IndicatorStore from 'app/stores/indicatorStore';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport StackedBarChart from 'app/components/stackedBarChart';\nimport TextCopyInput from 'app/views/settings/components/forms/textCopyInput';\n\nimport ServiceHookSettingsForm from 'app/views/settings/project/serviceHookSettingsForm';\n\nclass HookStats extends AsyncComponent {\n  getEndpoints() {\n    const until = Math.floor(new Date().getTime() / 1000);\n    const since = until - 3600 * 24 * 30;\n    const {hookId, orgId, projectId} = this.props.params;\n    return [\n      [\n        'stats',\n        `/projects/${orgId}/${projectId}/hooks/${hookId}/stats/`,\n        {\n          query: {\n            since,\n            until,\n            resolution: '1d',\n          },\n        },\n      ],\n    ];\n  }\n\n  renderTooltip(point, pointIdx, chart) {\n    const timeLabel = chart.getTimeLabel(point);\n    const [total] = point.y;\n\n    const value = `${total.toLocaleString()} events`;\n\n    return (\n      '<div style=\"width:150px\">' +\n      `<div class=\"time-label\">${timeLabel}</div>` +\n      `<div class=\"value-label\">${value}</div>` +\n      '</div>'\n    );\n  }\n\n  renderBody() {\n    let emptyStats = true;\n    const stats = this.state.stats.map(p => {\n      if (p.total) {\n        emptyStats = false;\n      }\n      return {\n        x: p.ts,\n        y: [p.total],\n      };\n    });\n\n    return (\n      <Panel>\n        <PanelHeader>{t('Events in the last 30 days (by day)')}</PanelHeader>\n        <PanelBody>\n          {!emptyStats ? (\n            <StackedBarChart\n              points={stats}\n              height={150}\n              label=\"events\"\n              barClasses={['total']}\n              className=\"standard-barchart\"\n              style={{border: 'none'}}\n              tooltip={this.renderTooltip}\n            />\n          ) : (\n            <EmptyMessage\n              title={t('Nothing recorded in the last 30 days.')}\n              description={t('Total webhooks fired for this configuration.')}\n            />\n          )}\n        </PanelBody>\n      </Panel>\n    );\n  }\n}\n\nexport default class ProjectServiceHookDetails extends AsyncView {\n  getEndpoints() {\n    const {orgId, projectId, hookId} = this.props.params;\n    return [['hook', `/projects/${orgId}/${projectId}/hooks/${hookId}/`]];\n  }\n\n  onDelete = () => {\n    const {orgId, projectId, hookId} = this.props.params;\n    const loadingIndicator = IndicatorStore.add(t('Saving changes..'));\n    this.api.request(`/projects/${orgId}/${projectId}/hooks/${hookId}/`, {\n      method: 'DELETE',\n      success: () => {\n        IndicatorStore.remove(loadingIndicator);\n        browserHistory.push(`/settings/${orgId}/projects/${projectId}/hooks/`);\n      },\n      error: () => {\n        IndicatorStore.remove(loadingIndicator);\n        IndicatorStore.add(\n          t('Unable to remove application. Please try again.'),\n          'error',\n          {\n            duration: 3000,\n          }\n        );\n      },\n    });\n  };\n\n  renderBody() {\n    const {orgId, projectId, hookId} = this.props.params;\n    const {hook} = this.state;\n    return (\n      <div>\n        <SettingsPageHeader title={t('Service Hook Details')} />\n\n        <ErrorBoundary>\n          <HookStats params={this.props.params} />\n        </ErrorBoundary>\n\n        <ServiceHookSettingsForm\n          {...this.props}\n          orgId={orgId}\n          projectId={projectId}\n          hookId={hookId}\n          initialData={{\n            ...hook,\n            isActive: hook.status != 'disabled',\n          }}\n        />\n        <Panel>\n          <PanelHeader>{t('Event Validation')}</PanelHeader>\n          <PanelBody>\n            <PanelAlert type=\"info\" icon=\"icon-circle-exclamation\">\n              Sentry will send the <code>X-ServiceHook-Signature</code> header built using{' '}\n              <code>HMAC(SHA256, [secret], [payload])</code>. You should always verify\n              this signature before trusting the information provided in the webhook.\n            </PanelAlert>\n            <Field\n              label={t('Secret')}\n              flexibleControlStateSize\n              inline={false}\n              help={t('The shared secret used for generating event HMAC signatures.')}\n            >\n              <TextCopyInput>\n                {getDynamicText({\n                  value: hook.secret,\n                  fixed: 'a dynamic secret value',\n                })}\n              </TextCopyInput>\n            </Field>\n          </PanelBody>\n        </Panel>\n        <Panel>\n          <PanelHeader>{t('Delete Hook')}</PanelHeader>\n          <PanelBody>\n            <Field\n              label={t('Delete Hook')}\n              help={t('Removing this hook is immediate and permanent.')}\n            >\n              <div>\n                <Button priority=\"danger\" onClick={this.onDelete}>\n                  Delete Hook\n                </Button>\n              </div>\n            </Field>\n          </PanelBody>\n        </Panel>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}