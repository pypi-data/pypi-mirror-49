(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1575:function(e,t,n){"use strict";var a=n(4),r=n.n(a),l=n(6),i=n.n(l),o=n(7),c=n.n(o),s=n(5),u=n.n(s),p=n(8),d=n.n(p),m=n(0),f=n.n(m),h=n(1),g=n.n(h),b=n(3),v=function(e){return e.color?"background: ".concat(e.color,";"):"background: ".concat(e.enabled?e.theme.success:e.theme.error,";")},y=function(e){return"\n  height: ".concat(e.size,"px;\n  width: ").concat(e.size,"px;\n")},E=Object(b.default)("div",{target:"eljqieg0"})("display:inline-block;position:relative;border-radius:50%;",y,";",v,";"),j=function(e){function t(e){return r()(this,t),c()(this,u()(t).call(this,e))}return d()(t,e),i()(t,[{key:"render",value:function(){return f.a.createElement(E,this.props)}}]),t}(f.a.Component);j.propTypes={enabled:g.a.bool.isRequired,size:g.a.number.isRequired,color:g.a.string},j.defaultProps={enabled:!0,size:14},t.a=j},1728:function(e,t,n){"use strict";var a=n(13),r=n.n(a),l=n(4),i=n.n(l),o=n(6),c=n.n(o),s=n(7),u=n.n(s),p=n(5),d=n.n(p),m=n(8),f=n.n(m),h=n(0),g=n.n(h),b=n(16),v=n(10),y=n(95),E=n(24),j=n(110),O=n(11),x=n.n(O),w=n(1),C=n.n(w),q=n(81),I=n(289),A=n(479),k=n(2),R=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target.value;t===n.props.confirmInput?n.setState({disableConfirmButton:!1,confirmInput:t}):n.setState({disableConfirmButton:!0,confirmInput:t})},n.state={disableConfirmButton:!0,confirmInput:""},n}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.confirmInput,n=e.message,a=r()(e,["confirmInput","message"]),l=this.state.disableConfirmButton;return g.a.createElement(j.default,x()({},a,{bypass:!1,disableConfirmButton:l,message:g.a.createElement(g.a.Fragment,null,g.a.createElement(q.default,{type:"error"},n),g.a.createElement(A.default,{p:0,flexibleControlStateSize:!0,inline:!1,label:g.a.createElement("div",null,"Please enter ",g.a.createElement("code",null,t)," to confirm the deletion")},g.a.createElement(I.a,{type:"text",placeholder:t,onChange:this.handleChange,value:this.state.confirmInput})))}))}}]),t}(g.a.PureComponent);R.propTypes={onConfirm:C.a.func.isRequired,confirmText:C.a.string.isRequired,confirmInput:C.a.string.isRequired,cancelText:C.a.string.isRequired,priority:C.a.oneOf(["primary","danger"]).isRequired,message:C.a.node,renderMessage:C.a.func,disabled:C.a.bool,onConfirming:C.a.func,onCancel:C.a.func},R.defaultProps={priority:"primary",cancelText:Object(k.t)("Cancel"),confirmText:Object(k.t)("Confirm")};var z=R,P=n(12),S=n.n(P),T=n(183),B=n(9),F=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.sentryApp,n=r()(e,["sentryApp"]);return t?g.a.createElement(T.a,x()({},n,{type:"letter_avatar",uploadPath:"avatar",uploadId:"",letterId:t.uuid,tooltip:t.name,title:t.name})):null}}]),t}(g.a.Component);F.propTypes=S()({sentryApp:B.default.SentryApplication.isRequired},T.a.propTypes);var L=F,M=n(29),U=n(25),D=n(3),N=n(15),J=n(198),_=n(1575);n.d(t,"a",function(){return G});var G=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"renderRemoveApp",value:function(e){var t=this,n=Object(k.t)("Deleting ".concat(e.slug," will also delete any and all of its installations.        This is a permanent action. Do you wish to continue?"));return g.a.createElement(z,{message:n,confirmInput:e.slug,priority:"danger",onConfirm:function(){return t.props.onRemoveApp(e)}},g.a.createElement(E.default,{size:"small",icon:"icon-trash"}))}},{key:"renderUninstall",value:function(e){var t=this,n=Object(k.t)("Are you sure you want to remove the ".concat(e.app.slug," installation ?"));return g.a.createElement(j.default,{message:n,priority:"danger",onConfirm:function(){return t.props.onUninstall(e)}},g.a.createElement(Z,{borderless:!0,icon:"icon-trash","data-test-id":"sentry-app-uninstall"},Object(k.t)("Remove")))}},{key:"render",value:function(){var e=this,t=this.props,n=t.app,a=t.orgId,r=t.installs,l=t.showPublishStatus,i=r&&r.length>0;return g.a.createElement(H,null,g.a.createElement(K,null,g.a.createElement(L,{size:36,sentryApp:n}),g.a.createElement(Q,null,g.a.createElement(W,null,l?g.a.createElement(Y,{to:"/settings/".concat(a,"/developer-settings/").concat(n.slug,"/")},n.name):n.name),g.a.createElement(V,null,l?g.a.createElement(ee,{published:"published"===n.status}):g.a.createElement(g.a.Fragment,null,g.a.createElement($,{enabled:i}),g.a.createElement(X,{onClick:function(){}},Object(k.t)("Learn More"))))),l?g.a.createElement(b.Box,null,"unpublished"===n.status?g.a.createElement(y.a,{access:["org:admin"]},function(t){var a=t.hasAccess;return g.a.createElement(g.a.Fragment,null,!a&&g.a.createElement(M.default,{title:Object(k.t)("Owner permissions are required for this action.")},g.a.createElement(E.default,{disabled:!0,size:"small",icon:"icon-trash"})),a&&e.renderRemoveApp(n))}):g.a.createElement(M.default,{title:Object(k.t)("Published apps cannot be removed.")},g.a.createElement(E.default,{disabled:!0,size:"small",icon:"icon-trash"}))):g.a.createElement(b.Box,null,i?this.renderUninstall(r[0]):g.a.createElement(E.default,{onClick:function(){return e.props.onInstall(n)},size:"small",icon:"icon-circle-add",className:"btn btn-default"},Object(k.t)("Install")))))}}]),t}(g.a.PureComponent);G.propTypes={app:B.default.SentryApplication,orgId:C.a.string.isRequired,installs:C.a.array,onInstall:C.a.func,onUninstall:C.a.func,onRemoveApp:C.a.func,showPublishStatus:C.a.bool},G.defaultProps={showPublishStatus:!1};var H=Object(D.default)(U.f,{target:"eac2pqx0"})("flex-direction:column;padding:5px;"),K=Object(D.default)(b.Flex,{target:"eac2pqx1"})("justify-content:center;padding:10px;"),Q=Object(D.default)(b.Box,{target:"eac2pqx2"})("padding-left:15px;padding-right:15px;flex:1;"),V=Object(D.default)(b.Flex,{target:"eac2pqx3"})("align-items:center;margin-top:6px;font-size:0.8em;"),W=Object(D.default)("div",{target:"eac2pqx4"})("font-weight:bold;"),X=Object(D.default)(v.Link,{target:"eac2pqx5"})("color:",function(e){return e.theme.gray2},";"),Y=Object(D.default)(v.Link,{target:"eac2pqx6"})("color:",function(e){return e.theme.textColor},";"),Z=Object(D.default)(E.default,{target:"eac2pqx7"})("color:",function(e){return e.theme.gray2},";"),$=Object(D.default)(Object(J.withTheme)(function(e){var t=e.enabled,n=r()(e,["enabled"]);return g.a.createElement(b.Flex,{align:"center"},g.a.createElement(_.a,{size:6,color:t?n.theme.success:n.theme.gray2}),g.a.createElement("div",n,t?Object(k.t)("Installed"):Object(k.t)("Not Installed")))}),{target:"eac2pqx8"})("color:",function(e){return e.enabled?e.theme.success:e.theme.gray2},";margin-left:",Object(N.default)(.5),";font-weight:light;&:after{content:'|';color:",function(e){return e.theme.gray1},";margin-left:",Object(N.default)(.75),";font-weight:normal;}margin-right:",Object(N.default)(.75),";"),ee=Object(D.default)(function(e){var t=e.published,n=r()(e,["published"]);return g.a.createElement(b.Flex,{align:"center"},g.a.createElement("div",n,t?Object(k.t)("published"):Object(k.t)("unpublished")))},{target:"eac2pqx9"})("color:",function(e){return e.published?e.theme.success:e.theme.gray2},";font-weight:light;margin-right:",Object(N.default)(.75),";")},2376:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),l=n(6),i=n.n(l),o=n(7),c=n.n(o),s=n(5),u=n.n(s),p=n(8),d=n.n(p),m=n(0),f=n.n(m),h=n(153),g=n(24),b=n(106),v=n(25),y=n(39),E=n(2);var j=n(99),O=n(1728);n.d(t,"default",function(){return x});var x=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=c()(this,(e=u()(t)).call.apply(e,[this].concat(l)))).removeApp=function(e){var t=n.state.applications.filter(function(t){return t.slug!==e.slug});(function(e,t){Object(y.addLoadingMessage)();var n=e.requestPromise("/sentry-apps/".concat(t.slug,"/"),{method:"DELETE"});return n.then(function(){Object(y.addSuccessMessage)(Object(E.t)("".concat(t.slug," successfully removed.")))},function(){Object(y.clearIndicators)(),Object(y.addErrorMessage)(Object(E.t)("Unable to remove ".concat(t.slug," application")))}),n})(n.api,e).then(function(){n.setState({applications:t})},function(){})},n}return d()(t,e),i()(t,[{key:"getEndpoints",value:function(){var e=this.props.params.orgId;return[["applications","/organizations/".concat(e,"/sentry-apps/")]]}},{key:"renderBody",value:function(){var e=this,t=this.props.params.orgId,n=f.a.createElement(g.default,{priority:"primary",size:"small",to:"/settings/".concat(t,"/developer-settings/new/"),icon:"icon-circle-add"},Object(E.t)("Create New Application")),a=0===this.state.applications.length;return f.a.createElement("div",null,f.a.createElement(j.default,{title:Object(E.t)("Developer Settings"),action:n}),f.a.createElement(v.a,null,f.a.createElement(v.e,null,Object(E.t)("Applications")),f.a.createElement(v.c,null,a?f.a.createElement(b.default,null,Object(E.t)("No applications have been created yet.")):this.state.applications.map(function(n){return f.a.createElement(O.a,{key:n.uuid,app:n,orgId:t,onRemoveApp:e.removeApp,showPublishStatus:!0})}))))}}]),t}(h.default)}}]);
//# sourceMappingURL=OrganizationDeveloperSettings.js.map