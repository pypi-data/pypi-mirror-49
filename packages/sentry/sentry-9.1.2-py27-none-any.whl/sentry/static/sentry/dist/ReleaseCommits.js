(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{2337:function(e,t,n){"use strict";n.r(t);var a=n(177),i=n.n(a),r=n(0),o=n.n(r),s=n(17),c=n.n(s),l=n(25),m=n(93),u=n(2),p=n(37),d=n(728),h=n(76),f=n(145),v=n(53),E=n(33),R=n(58),g=c()({displayName:"ReleaseCommits",mixins:[p.default],getInitialState:function(){return{loading:!0,error:!1,commitList:[],activeRepo:null}},componentDidMount:function(){var e=this;this.api.request(this.getPath(),{method:"GET",data:i()(this.props.location.query,Object.values(m.d)),success:function(t,n,a){e.setState({error:!1,loading:!1,commitList:t,pageLinks:a.getResponseHeader("Link")})},error:function(){e.setState({error:!0,loading:!1})}})},getPath:function(){var e=this.props.params,t=e.orgId,n=e.projectId,a=e.version,i=encodeURIComponent(a);return n?"/projects/".concat(t,"/").concat(n,"/releases/").concat(i,"/commits/"):"/organizations/".concat(t,"/releases/").concat(i,"/commits/")},emptyState:function(){return o.a.createElement(l.a,null,o.a.createElement(f.a,null,o.a.createElement("p",null,Object(u.t)("There are no commits associated with this release."))))},setActiveRepo:function(e){this.setState({activeRepo:e})},getCommitsByRepository:function(){return this.state.commitList.reduce(function(e,t){var n=t.repository;return e.hasOwnProperty(n.name)||(e[n.name]=[]),e[n.name].push(t),e},{})},renderCommitsForRepo:function(e){var t=this.getCommitsByRepository()[e];return o.a.createElement(l.a,{key:e},o.a.createElement(l.e,null,e),o.a.createElement(l.c,null,t.map(function(e){return o.a.createElement(d.a,{key:e.id,commit:e})})))},render:function(){var e=this;if(this.state.loading)return o.a.createElement(E.default,null);if(this.state.error)return o.a.createElement(v.default,null);var t=this.state,n=t.commitList,a=t.activeRepo;if(!n.length)return o.a.createElement(this.emptyState,null);var i=this.getCommitsByRepository();return o.a.createElement("div",null,o.a.createElement("div",{className:"heading"},Object.keys(i).length>1?o.a.createElement("div",{className:"commits-dropdown align-left"},o.a.createElement("div",{className:"commits-dropdowng"},o.a.createElement(h.default,{caret:!0,title:this.state.activeRepo||"All Repositories"},o.a.createElement(R.default,{key:"all",noAnchor:!0,onClick:function(){e.setActiveRepo(null)},isActive:null===this.state.activeRepo},o.a.createElement("a",null,Object(u.t)("All Repositories"))),Object.keys(i).map(function(t){return o.a.createElement(R.default,{key:i[t].id,noAnchor:!0,onClick:function(){e.setActiveRepo(t)},isActive:e.state.activeRepo===t},o.a.createElement("a",null,t))})))):null),a?this.renderCommitsForRepo(a):Object.keys(i).map(function(t){return e.renderCommitsForRepo(t)}))}});t.default=g}}]);
//# sourceMappingURL=ReleaseCommits.js.map