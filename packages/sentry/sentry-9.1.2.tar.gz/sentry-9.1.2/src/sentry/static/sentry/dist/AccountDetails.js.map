{"version":3,"sources":["webpack:///./app/views/settings/account/accountDetails.jsx"],"names":["AccountDetails","handleSubmitSuccess","user","updateUser","_this","setState","handleSubmitError","resp","model","id","this","state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","app_views_settings_components_settingsPageHeader__WEBPACK_IMPORTED_MODULE_11__","title","app_views_settings_components_forms_form__WEBPACK_IMPORTED_MODULE_9__","apiMethod","apiEndpoint","saveOnBlur","initialData","onSubmitSuccess","onSubmitError","app_views_settings_components_forms_jsonForm__WEBPACK_IMPORTED_MODULE_10__","location","props","forms","accountDetailsFields","additionalFieldProps","allowUndo","options","accountPreferencesFields","app_components_avatarChooser__WEBPACK_IMPORTED_MODULE_8__","endpoint","onSave","isUser","AsyncView"],"mappings":"gRAaMA,qLAKJC,oBAAsB,SAAAC,GACpBC,YAAWD,GACXE,EAAKC,SAAS,CAACH,YAGjBI,kBAAoB,SAACC,EAAMC,EAAOC,mEARhC,MAAO,CAAC,CAAC,OAJI,oDAcF,IACJP,EAAQQ,KAAKC,MAAbT,KAEP,OACEU,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,QAAD,CAAoBC,MAAM,oBAC1BJ,EAAAC,EAAAC,cAACG,EAAA,QAAD,CACEC,UAAU,MACVC,YAtBO,aAuBPC,YAAU,EACVC,YAAanB,EACboB,gBAAiBZ,KAAKT,oBACtBsB,cAAeb,KAAKJ,mBAEpBM,EAAAC,EAAAC,cAACU,EAAA,EAAD,CACEC,SAAUf,KAAKgB,MAAMD,SACrBE,MAAOC,UACPC,qBAAsB,CAAC3B,WAG3BU,EAAAC,EAAAC,cAACG,EAAA,QAAD,CACEC,UAAU,MACVC,YApCO,aAqCPC,YAAU,EACVU,WAAS,EACTT,YAAaX,KAAKC,MAAMT,KAAK6B,SAE7BnB,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAUC,SAAUf,KAAKgB,MAAMD,SAAUE,MAAOK,aAGlDpB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CACEC,SAAS,oBACT1B,MAAON,EACPiC,OAAQzB,KAAKT,oBACbmC,QAAM,YA9CaC,WAqDdrC","file":"AccountDetails.js","sourcesContent":["import React from 'react';\n\nimport {updateUser} from 'app/actionCreators/account';\nimport AsyncView from 'app/views/asyncView';\nimport AvatarChooser from 'app/components/avatarChooser';\nimport Form from 'app/views/settings/components/forms/form';\nimport JsonForm from 'app/views/settings/components/forms/jsonForm';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport accountDetailsFields from 'app/data/forms/accountDetails';\nimport accountPreferencesFields from 'app/data/forms/accountPreferences';\n\nconst ENDPOINT = '/users/me/';\n\nclass AccountDetails extends AsyncView {\n  getEndpoints() {\n    return [['user', ENDPOINT]];\n  }\n\n  handleSubmitSuccess = user => {\n    updateUser(user);\n    this.setState({user});\n  };\n\n  handleSubmitError = (resp, model, id) => {};\n\n  renderBody() {\n    const {user} = this.state;\n\n    return (\n      <div>\n        <SettingsPageHeader title=\"Account Details\" />\n        <Form\n          apiMethod=\"PUT\"\n          apiEndpoint={ENDPOINT}\n          saveOnBlur\n          initialData={user}\n          onSubmitSuccess={this.handleSubmitSuccess}\n          onSubmitError={this.handleSubmitError}\n        >\n          <JsonForm\n            location={this.props.location}\n            forms={accountDetailsFields}\n            additionalFieldProps={{user}}\n          />\n        </Form>\n        <Form\n          apiMethod=\"PUT\"\n          apiEndpoint={ENDPOINT}\n          saveOnBlur\n          allowUndo\n          initialData={this.state.user.options}\n        >\n          <JsonForm location={this.props.location} forms={accountPreferencesFields} />\n        </Form>\n\n        <AvatarChooser\n          endpoint=\"/users/me/avatar/\"\n          model={user}\n          onSave={this.handleSubmitSuccess}\n          isUser\n        />\n      </div>\n    );\n  }\n}\n\nexport default AccountDetails;\n"],"sourceRoot":""}